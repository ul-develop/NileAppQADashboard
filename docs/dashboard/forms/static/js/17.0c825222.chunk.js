(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[17],{1558:function(e,t,a){"use strict";a.r(t);var n=a(112),r=a(0),c=a.n(r),o=a(138),l=a(124),i=a(41),s=a(1423),m=a(1356),u=a(27),f=a(21),d=a.n(f),g=a(60),p=a.n(g),b=a(183),E=a(125),O=a(266),y=a(265),j=a(4),v=a(152),h=a(408),k=a(30),F=a(1426),I=a(1428),N=a(1424),w=a(1425),C=a(1429),P=a(216),B=a(68),D=a(1357),T=a(1516),x=a(1549),A=a(240),S=a(1),J=a(544),L=a.n(J),R=a(132),U=function(e){var t=e.offer,a=Object(r.useState)(null),n=Object(B.a)(a,2),o=n[0],l=n[1],i=d()(t,["OfferId"]),s=d()(t,["Forms"]).find((function(e){return d()(e,["FormTypeId"])===S.mc.contingencyRemoval})),m=d()(s,["FormId"]),u=Boolean(o),f="/offer?offerId=".concat(i,"&step=").concat(S.yc.confirmTransfer,"&formId=").concat(m);return c.a.createElement(c.a.Fragment,null,c.a.createElement(D.a,{color:"primary",onClick:function(e){l(e.currentTarget)}},c.a.createElement(L.a,{sx:{fontSize:"1.3rem"}})),c.a.createElement(T.a,{anchorEl:o,keepMounted:!0,open:u,onClose:function(){l(null)}},c.a.createElement(x.a,null,c.a.createElement(R.b,{to:f},c.a.createElement(A.a,{variant:"h4"},"Remove")))))},z=Object(k.a)((function(e){return{root:{fontWeight:"bold"}}}))(F.a),H=Object(m.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray}),table:{fontFamily:e.typography.fontFamily.avenirLT},cell:Object(n.a)({height:e.spacing(6)},e.breakpoints.up("md"),{border:"none"})}})),M=function(e){var t=e.contingencies,a=e.offer,n=e.isBuyer,r=H();if(p()(t)||p()(a))return c.a.createElement(c.a.Fragment,null);var o=Object(P.a)(a);return c.a.createElement(h.a,{className:r.widget,title:"Contingencies status"},c.a.createElement("div",{className:r.description},"Contingencies status of your property"," ",c.a.createElement("strong",null,d()(a,"Property.PropertyData.FullAddress",""))),c.a.createElement(I.a,{className:r.table},c.a.createElement(N.a,null,c.a.createElement(w.a,null,c.a.createElement(z,{padding:"none"},"Type"),c.a.createElement(z,{padding:"none"},"Due Date"),c.a.createElement(z,{padding:"none"},"Status"),n&&c.a.createElement(z,{padding:"none",align:"right"},"Action"))),c.a.createElement(C.a,null,t.map((function(e){var t=o&&!Object(P.b)(e);return c.a.createElement(w.a,{key:e.title},c.a.createElement(F.a,{className:r.cell,padding:"none"},e.title),c.a.createElement(F.a,{className:r.cell,padding:"none"},e.dueDate||"N/A"),c.a.createElement(F.a,{className:r.cell,padding:"none"},e.status||"N/A"),n&&t&&c.a.createElement(F.a,{className:r.cell,padding:"none",align:"right"},c.a.createElement(U,{offer:a})))})))))},W="buyer",q="seller",G=Object(m.a)((function(e){return{loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white,minHeight:"100px"}}}));t.default=Object(b.a)((function(){var e=G(),t=function(e){var t=d()(e,"IsBuyer",!1);return d()(e,"IsSeller",!1)?q:t?W:""}(Object(r.useContext)(E.b)),a=t===W,m=Object(s.a)(a?O.f:O.g,{errorPolicy:"all",skip:p()(t)}),f=m.data,g=m.loading,b=m.error,h=a?d()(f,["getUserOverview","Offers","Items"],[]):d()(f,["getUserOverview","Properties","Items"],[]).reduce((function(e,t){var a=(d()(t,"Offers")||[]).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{Property:{PropertyData:d()(t,"PropertyData")}})}));return[].concat(Object(v.a)(e),Object(v.a)(a))}),[]);return Object(r.useEffect)((function(){if(t){var e=d()(b,["message"],"");e&&i.toastr.error(y.a.fetchFailure,e)}}),[t,b]),p()(h)||!t?c.a.createElement(c.a.Fragment,null):c.a.createElement(l.a,{tag:"div",blocking:g,loader:c.a.createElement(o.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(u.a)(Object(n.a)({},e.loading,g))},function(e,t){return e.reduce((function(e,a){if(!(Object(P.e)(a)&&!p()(d()(a,["Contingencies"]))))return e;var n=Object(P.g)(a);return[].concat(Object(v.a)(e),[c.a.createElement(M,{key:d()(a,["OfferId"]),offer:a,contingencies:n,isBuyer:t})])}),[])}(h,a))}))}}]);
//# sourceMappingURL=17.0c825222.chunk.js.map