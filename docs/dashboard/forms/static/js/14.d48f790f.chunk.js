(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[14],{1041:function(e,r,t){"use strict";t.r(r);var n=t(88),o=t(0),a=t(256),c=t(78),f=t(101),i=t(109),s=t(125),u=t(51),m=t.n(u),d=t(18),l=t.n(d),O=t(89),b=t(120),F=t(31),p=t(157),v=t(1068),E=t(50);var M=Object(s.a)({urls:function(e){return l()(e,["form","urls"])},file:function(e){return l()(e,["form","file"])},error:function(e){return l()(e,["form","error"])},isLoading:function(e){return l()(e,["form","isLoading"])},isFormSaved:function(e){return l()(e,["form","isFormSaved"])},formData:function(e){return l()(e,["form","form","FormData"])}}),S={saveFormData:c.e,saveFormFiles:c.h,getFormFiles:c.d};r.default=Object(f.connect)(M,S)(Object(p.a)((function(e){var r=Object(E.e)(),t=o.useState(!1),c=Object(n.a)(t,2),f=c[0],s=c[1],u=o.useState(!1),d=Object(n.a)(u,2),l=d[0],p=d[1],M=e.formId,S=e.offerId,h=e.saveFormData,j=e.saveFormFiles,D=e.urls,I=e.getFormFiles,g=e.error,C=e.file,A=e.formData,N=e.isFormSaved,_=Object(v.a)({formId:M,offerId:S}),y=_.formBaseEndpoint,T=_.formSubmissionEndpoint,U={pathname:"/",search:"?tab=buy"},H=function(e,r,t,n){if(!Object(b.e)(A))try{var o=Object(b.b)(e,t,n);return h({endpoint:r,survey:{currentPageNo:0,data:o,ItemType:i.c.offer}})}catch(g){return void F.toastr.error(O.a.COMMON,g.message)}F.toastr.error(O.a.COMMON,O.a.FORM_SUBMITTED),p(!0)};return o.useEffect((function(){m()(D)||Object(b.h)(C,D,j)}),[D]),o.useEffect((function(){g&&F.toastr.error(O.a.COMMON)}),[g]),o.useEffect((function(){N&&(null===g?F.toastr.success(O.b.COMMON,O.b.FORM_DATA_SAVED_SUCCESS):F.toastr.error(O.a.COMMON,O.a.FORM_DATA_SAVED_FAILURE),p(!0))}),[N]),o.useEffect((function(){l&&f&&r.push(U)}),[f,l]),o.createElement("div",{className:"container"},o.createElement(a.a,{endpoint:y,onFilesUploadHandler:function(e){var r=e.options;return Object(b.f)(r,I)},onCompleteHandler:function(e,r,t){H(e,T,r,t)},onPageChangedHandler:function(e,r,t){H(e,"".concat(y),r,t)},onSaveExitHandler:function(e,r,t){H(e,"".concat(y),r,t),s(!0)},formDataParser:function(e,r,t,n){return Object(b.g)(r,e,t,n)}}))})))},1068:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t(1),o=function(e){var r=e.offerId,t=e.formId,o="".concat(n.yc,"/formdata/forms/").concat(t,"/items/").concat(r),a="".concat(n.f,"/offer?offerId=").concat(r,"&step=1&formId=").concat(t);return{formBaseEndpoint:o,formSubmissionEndpoint:"".concat(o,"/submit"),redirectUrl:a}}}}]);
//# sourceMappingURL=14.d48f790f.chunk.js.map