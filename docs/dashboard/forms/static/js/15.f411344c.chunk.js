(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[15],{1541:function(e,t,a){"use strict";a.r(t);var n=a(112),r=a(0),c=a.n(r),o=a(139),l=a(125),i=a(41),s=a(1457),m=a(1390),u=a(24),f=a(21),g=a.n(f),d=a(1483),p=a.n(d),b=a(58),E=a.n(b),O=a(184),y=a(124),v=a(268),j=a(267),h=a(151),k=a(4),F=a(415),I=a(30),N=a(1460),w=a(1462),C=a(1458),B=a(1459),T=a(1463),x=a(218),D=a(68),P=a(1398),S=a(1542),z=a(1535),A=a(243),J=a(1),L=a(555),R=a.n(L),U=a(161),H=function(e){var t=e.offer,a=Object(r.useState)(null),n=Object(D.a)(a,2),o=n[0],l=n[1],i=g()(t,["OfferId"]),s=g()(t,["Forms"]).find((function(e){return g()(e,["FormTypeId"])===J.mc.contingencyRemoval})),m=g()(s,["FormId"]),u=Boolean(o),f="/offer?offerId=".concat(i,"&step=").concat(J.zc.confirmTransfer,"&formId=").concat(m);return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.a,{color:"primary",onClick:function(e){l(e.currentTarget)}},c.a.createElement(R.a,{sx:{fontSize:"1.3rem"}})),c.a.createElement(S.a,{anchorEl:o,keepMounted:!0,open:u,onClose:function(){l(null)}},c.a.createElement(z.a,null,c.a.createElement(U.b,{to:f},c.a.createElement(A.a,{variant:"h4"},"Remove")))))},M=Object(I.a)((function(e){return{root:{fontWeight:"bold"}}}))(N.a),W=Object(m.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(k.a)(Object(k.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray}),table:{fontFamily:e.typography.fontFamily.avenirLT},cell:Object(n.a)({height:e.spacing(6)},e.breakpoints.up("md"),{border:"none"})}})),q=function(e){var t=e.contingencies,a=e.offer,n=e.isBuyer,r=W();if(E()(t)||E()(a))return c.a.createElement(c.a.Fragment,null);var o=Object(x.a)(a);return c.a.createElement(F.a,{className:r.widget,title:"Contingencies status"},c.a.createElement("div",{className:r.description},"Contingencies status of your property"," ",c.a.createElement("strong",null,g()(a,"Property.PropertyData.FullAddress",""))),c.a.createElement(w.a,{className:r.table},c.a.createElement(C.a,null,c.a.createElement(B.a,null,c.a.createElement(M,{padding:"none"},"Type"),c.a.createElement(M,{padding:"none"},"Due Date"),c.a.createElement(M,{padding:"none"},"Status"),n&&c.a.createElement(M,{padding:"none",align:"right"},"Action"))),c.a.createElement(T.a,null,t.map((function(e){var t=o&&!Object(x.b)(e);return c.a.createElement(B.a,{key:e.title},c.a.createElement(N.a,{className:r.cell,padding:"none"},e.title),c.a.createElement(N.a,{className:r.cell,padding:"none"},e.dueDate||"n/a"),c.a.createElement(N.a,{className:r.cell,padding:"none"},e.status||"n/a"),n&&t&&c.a.createElement(N.a,{className:r.cell,padding:"none",align:"right"},c.a.createElement(H,{offer:a})))})))))},G="buyer",K="seller",Q=Object(m.a)((function(e){return{loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white,minHeight:"100px"}}}));t.default=Object(O.a)((function(){var e=Q(),t=function(e){var t=g()(e,"IsBuyer",!1);return g()(e,"IsSeller",!1)?K:t?G:""}(Object(r.useContext)(y.b)),a=t===G,m=Object(s.a)(a?v.f:v.g,{errorPolicy:"all",skip:E()(t)}),f=m.data,d=m.loading,b=m.error,O=a?g()(f,["getUserOverview","Offers","Items"],[]):p()(g()(f,["getUserOverview","Properties","Items"],[]),(function(e){return e.Offers}));return Object(r.useEffect)((function(){if(t){var e=g()(b,["message"],"");e&&i.toastr.error(j.a.fetchFailure,e)}}),[t,b]),E()(O)||!t?c.a.createElement(c.a.Fragment,null):c.a.createElement(l.a,{tag:"div",blocking:d,loader:c.a.createElement(o.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(u.a)(Object(n.a)({},e.loading,d))},function(e,t){return e.reduce((function(e,a){if(!(Object(x.e)(a)&&!E()(g()(a,["Contingencies"]))))return e;var n=Object(x.g)(a);return[].concat(Object(h.a)(e),[c.a.createElement(q,{key:g()(a,["OfferId"]),offer:a,contingencies:n,isBuyer:t})])}),[])}(O,a))}))}}]);
//# sourceMappingURL=15.f411344c.chunk.js.map