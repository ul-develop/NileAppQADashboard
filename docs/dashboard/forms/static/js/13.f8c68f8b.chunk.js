(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[13],{1530:function(e,t,r){"use strict";r.r(t);var n=r(118),a=r(0),c=r.n(a),o=r(170),l=r(151),i=r(217),u=r(101),f=r(129),s=r(16),m=r.n(s),g=r(131),d=r(112),p=r(24),b=r(420),E=r(130),O=r(40),y=r(225),j=r(160),v=r(53),h=r.n(v),F=r(5),B=r(275),L=r(28),k=r(1474),I=r(1476),N=r(1472),S=r(1473),C=r(1477),P=r(146),D=r(38),w=r(1413),T=r(1484),x=r(1478),z=r(208),A=r(1),J=r(566),R=r.n(J),H=r(137),M=function(e){var t=e.offer,r=Object(a.useState)(null),n=Object(D.a)(r,2),o=n[0],l=n[1],i=m()(t,["OfferId"]),u=m()(t,["Forms"]).find((function(e){return m()(e,["FormTypeId"])===A.mc.contingencyRemoval})),f=m()(u,["FormId"]),s=Boolean(o),g="/offer?offerId=".concat(i,"&step=").concat(A.zc.confirmTransfer,"&formId=").concat(f);return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{color:"primary",onClick:function(e){l(e.currentTarget)}},c.a.createElement(R.a,{sx:{fontSize:"1.3rem"}})),c.a.createElement(T.a,{anchorEl:o,keepMounted:!0,open:s,onClose:function(){l(null)}},c.a.createElement(x.a,null,c.a.createElement(H.b,{to:g},c.a.createElement(z.a,{variant:"h4"},"Remove")))))},W=Object(L.a)((function(e){return{root:{fontWeight:"bold"}}}))(k.a),q=Object(b.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(F.a)(Object(F.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray}),table:{fontFamily:e.typography.fontFamily.avenirLT},cell:Object(n.a)({height:e.spacing(6)},e.breakpoints.up("md"),{border:"none"})}})),G=function(e){var t=e.contingencies,r=e.offer,n=e.isBuyer,a=q();if(h()(t)||h()(r))return c.a.createElement(c.a.Fragment,null);var o=Object(P.a)(r);return c.a.createElement(B.a,{className:a.widget,title:"Contingencies status"},c.a.createElement("div",{className:a.description},"Contingencies status of your property"," ",c.a.createElement("strong",null,m()(r,"Property.PropertyData.FullAddress",""))),c.a.createElement(I.a,{className:a.table},c.a.createElement(N.a,null,c.a.createElement(S.a,null,c.a.createElement(W,{padding:"none"},"Type"),c.a.createElement(W,{padding:"none"},"Due Date"),c.a.createElement(W,{padding:"none"},"Status"),n&&c.a.createElement(W,{padding:"none",align:"right"},"Action"))),c.a.createElement(C.a,null,t.map((function(e){var t=o&&!Object(P.b)(e);return c.a.createElement(S.a,{key:e.title},c.a.createElement(k.a,{className:a.cell,padding:"none"},e.title),c.a.createElement(k.a,{className:a.cell,padding:"none"},e.dueDate||"n/a"),c.a.createElement(k.a,{className:a.cell,padding:"none"},e.status||"n/a"),n&&t&&c.a.createElement(k.a,{className:a.cell,padding:"none",align:"right"},c.a.createElement(M,{offer:r})))})))))},K="buyer",Q="seller",U=r(49),V=r.n(U),X=Object(b.a)((function(e){return{loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white,minHeight:"100px"}}})),Y=Object(f.a)({buyerOffers:function(e){return m()(e,["buyerOffer","offers"],[])},isBuyerLoading:function(e){return m()(e,["buyerOffer","isLoading"])},buyerError:function(e){return m()(e,["buyerOffer","error"],{})},sellerOffers:function(e){return V()(e,["sellerOffers","list"]).map((function(e){var t=e.Offers,r=void 0===t?[]:t,n=e.ListPrice,a=void 0===n?0:n,c=e.PropertyData,o=void 0===c?{}:c;return r.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{ListPrice:a,Property:{PropertyData:o}})}))})).flat()},isSellerLoading:function(e){return m()(e,["sellerOffers","isLoading"])},sellerError:function(e){return m()(e,["sellerOffer","error"],{})}}),Z={getBuyerOffers:l.a,getSellerOffers:i.a};t.default=Object(u.connect)(Y,Z)(Object(o.a)((function(e){var t=e.getBuyerOffers,r=e.buyerOffers,o=e.isBuyerLoading,l=e.buyerError,i=e.getSellerOffers,u=e.sellerOffers,f=e.isSellerLoading,s=e.sellerError,b=X(),v=function(e){var t=m()(e,"IsBuyer",!1);return m()(e,"IsSeller",!1)?Q:t?K:""}(Object(a.useContext)(E.b)),F=v===K;if(Object(a.useEffect)((function(){v&&(F?t():i())}),[v]),Object(a.useEffect)((function(){if(v){var e=F?l:s,t=m()(e,"message","");t&&O.toastr.error(y.a.fetchFailure,t)}}),[v,l,s]),!v)return c.a.createElement(c.a.Fragment,null);var B=o||f,L=F?r:u;return h()(L)&&!B?c.a.createElement(c.a.Fragment,null):c.a.createElement(d.a,{tag:"div",blocking:B,loader:c.a.createElement(g.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(p.a)(Object(n.a)({},b.loading,B))},function(e,t){return e.reduce((function(e,r){if(!(Object(P.e)(r)&&!h()(m()(r,["Contingencies"]))))return e;var n=Object(P.g)(r);return[].concat(Object(j.a)(e),[c.a.createElement(G,{key:m()(r,["OfferId"]),offer:r,contingencies:n,isBuyer:t})])}),[])}(L,F))})))}}]);
//# sourceMappingURL=13.f8c68f8b.chunk.js.map