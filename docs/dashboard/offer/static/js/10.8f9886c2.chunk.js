(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[10],{1479:function(e,n,t){"use strict";var a=t(0),r=t(128);n.a=Object(r.a)(a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline")},1480:function(e,n,t){"use strict";var a=t(0),r=t(128);n.a=Object(r.a)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked")},1481:function(e,n,t){"use strict";var a=t(0),r=t(128);n.a=Object(r.a)(a.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},1521:function(e,n,t){"use strict";t.r(n);var a=t(154),r=t(41),o=t(0),i=t.n(o),c=t(68),l=t.n(c),f=t(48),s=t.n(f),d=t(139),u=t(127),p=t(26),m=t(411),g=t(163),b=t(144),O=t(99),y=t(126),v=t(42),h=t(1),C=t(217),j=t(4),I=t(268),E=t(1479),k=t(1480),F=t(1481),S=t(153),H=Object(m.a)((function(e){return{link:{fontFamily:e.typography.fontFamily.avenirLT,border:"1px solid #E0E0E0",backgroundColor:e.palette.background.lightGray,padding:e.spacing(2.125),marginBottom:e.spacing(1),display:"flex",alignItems:"center",cursor:"pointer"},name:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginLeft:e.spacing(1),color:e.palette.text.dark,flex:1}),linkHighlight:{fontWeight:"900"},disabledLink:{pointerEvents:"none",opacity:.5},selectIcon:{float:"right",width:"14px",height:"14px",color:e.palette.primary.main},checkIcon:{color:e.palette.primary.main},disabledIcon:{color:e.palette.primary.gray},loopIcon:{color:e.palette.primary.gray}}})),T=function(e){var n=e.step,t=e.isEnabled,r=e.isFinished,i=e.action,c=e.offer,l=H(),f=i.redirectTo,s=i.onClickHandler,d=function(){return o.createElement(o.Fragment,null,r?o.createElement(E.a,{className:l.checkIcon}):o.createElement(k.a,{className:l.loopIcon}),o.createElement("span",{className:Object(p.a)(l.name,Object(a.a)({},l.linkHighlight,t))},n.name),o.createElement(F.a,{className:Object(p.a)(l.selectIcon,Object(a.a)({},l.disabledIcon,!t))}))};return f?o.createElement(S.b,{className:Object(p.a)(l.link,Object(a.a)({},l.disabledLink,!t)),to:f},d()):o.createElement("div",{className:Object(p.a)(l.link,Object(a.a)({},l.disabledLink,!t)),onClick:function(){return s(c)}},d())},L=t(112),A=Object(j.a)(Object(j.a)({},h.xc),{},{viewOriginalOffer:101,contingencyRemoval:801}),N=[{id:A.pleaseComplete,name:"Continue Offer"},{id:A.viewOriginalOffer,name:"View Original Offer"},{id:A.counteredBySeller,name:"Negotiate"},{id:A.confirmTransfer,name:"Wire"},{id:A.scheduleAProperty,name:"Inspection"},{id:A.submitCorrectiveAction,name:"SCAR"},{id:A.contingencyRemoval,name:"Contingency Removal"}],x=function(e){var n=e.offerId,t=(e.stepId,e.formId);return"/offer?offerId=".concat(n,"&step=").concat(h.xc.pleaseComplete,"&formId=").concat(t)},w=function(e){var n=e.offer,t=e.stepId,a=e.openOfferDialogHandler,r=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,i=e.openOriginalOfferDialogHandler;switch(t){case A.pleaseComplete:return function(e){return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.pleaseComplete,formId:s()(e,["Forms",0,"FormId"])})}}(n);case A.viewOriginalOffer:return{onClickHandler:i};case A.counteredBySeller:return{onClickHandler:a};case A.confirmTransfer:return{onClickHandler:r};case A.scheduleAProperty:return{onClickHandler:o};case A.submitCorrectiveAction:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.lc.scar})),t=s()(n,["FormId"]);return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.submitCorrectiveAction,formId:t})}}(n);case A.contingencyRemoval:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.lc.contingencyRemoval})),t=s()(n,["FormId"]);return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.confirmTransfer,formId:t})}}(n);default:return{redirectTo:"/"}}},D=Object(m.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray})}})),R=function(e){var n=e.offer,t=void 0===n?{}:n,a=e.openOfferDialogHandler,r=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,c=e.openOriginalOfferDialogHandler,f=D();if(l()(t))return i.a.createElement(i.a.Fragment,null);var d=s()(t,"StepId",0);return i.a.createElement(I.a,{className:f.widget,title:"Home Purchase Action Steps"},i.a.createElement("div",{className:f.description},"To purchase property"," ",i.a.createElement("strong",null,s()(t,"Property.PropertyData.FullAddress",""))," ","you need to complete the steps below:"),N.map((function(e){var n=s()(e,"id"),f=function(e){var n=e.offer,t=e.stepId,a=s()(n,"StepId",0),r=t===A.pleaseComplete&&a===A.pleaseResubmit,o=t===A.viewOriginalOffer&&a>A.pleaseComplete,i=s()(n,"Contingencies"),c=t===A.contingencyRemoval&&!l()(i)&&!s()(i,"AllRemoved");return r||o||c||a===t}({offer:t,stepId:n}),u=n<d,p=f?w({offer:t,stepId:n,openOfferDialogHandler:a,openConfirmTransferHandler:r,openScheduleInspectionHandler:o,openOriginalOfferDialogHandler:c}):{};return i.a.createElement(T,{step:e,key:n,isEnabled:f,isFinished:u,offer:t,action:p})})))},B=t(568),M=t(229),P=t(305),z=t(307),U=t(565),W=t(566),V=t(199),J=t(1400),G=t(89),q=Object(m.a)((function(e){return{spacing:{padding:e.spacing(2)},title:{fontFamily:e.typography.fontFamily.avenir85},dialogContent:{padding:e.spacing(2),paddingTop:0},field:{marginBottom:e.spacing(1.5)},fieldLabel:{marginBottom:e.spacing(1),color:e.palette.primary.gray,textTransform:"uppercase"},fieldValue:{color:e.palette.text.secondaryDark}}})),K=function(e){var n=e.open,t=e.onClose,a=e.offer,r=q();if(l()(a))return i.a.createElement(i.a.Fragment,null);var o=function(e){if(!e||l()(e))return[];var n=s()(e,"Funding.PurchaseType","");return[{label:"Offer No",value:s()(e,"OfferNo","")},{label:"offer price",value:s()(e,"MappingCounter.OfferPrice")?Object(L.a)(s()(e,"MappingCounter.OfferPrice")):"TBD"},{label:"funding",value:n},{label:"Loan Type",value:n===h.mc.cash?"N/A":s()(e,"Funding.LoanType","")},{label:"finance contingency",value:n===h.mc.cash?"N/A":s()(e,"Contingencies.FinanceContingency","")},{label:"due diligence contingency",value:s()(e,"MappingCounter.InspectionContingency","")},{label:"home sale contingency",value:s()(e,"MappingCounter.SaleOfHomeContingency","")},{label:"Closing Period",value:s()(e,"MappingCounter.ClosingPeriod","")},{label:"Furniture",value:s()(e,"MappingCounter.Furniture","")}]}(a);return i.a.createElement(G.a,{open:n,"aria-labelledby":"customized-dialog-title",onClose:t,scroll:"paper",fullWidth:!0,maxWidth:"sm",visible:1},i.a.createElement(G.d,{id:"customized-dialog-title",disableTypography:!0,onClose:t,classes:{root:r.spacing}},i.a.createElement(V.a,{variant:"h4",className:r.title},"Offer ",s()(a,"OfferNo","")," - Original Offer")),i.a.createElement(G.c,{className:r.dialogContent},i.a.createElement(J.a,{container:!0},o.map((function(e){var n=e.label,t=e.value;return i.a.createElement(J.a,{item:!0,xs:4,key:n,className:r.field},i.a.createElement(V.a,{variant:"h6",className:r.fieldLabel},n),i.a.createElement(V.a,{variant:"h5",className:r.fieldValue},t))})))))},Q=Object(m.a)((function(e){return{container:{minHeight:"100px",marginBottom:e.spacing(3)},loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white}}})),X=Object(y.a)({offers:function(e){return s()(e,["buyerOffer","offers"])},isUpdatedStep:function(e){return s()(e,["buyerOffer","isUpdatedStep"])},isLoading:function(e){return s()(e,["buyerOffer","isLoading"])},error:function(e){return s()(e,["buyerOffer","error"])},isFormLoaded:function(e){return s()(e,["form","isFormLoaded"])}}),Y={getAllOffers:b.a,saveOfferStep:b.d};n.default=Object(O.connect)(X,Y)(Object(g.a)((function(e){var n=e.offers,t=e.getAllOffers,c=e.isLoading,f=e.error,m=e.saveOfferStep,g=e.isFormLoaded,b=e.isUpdatedStep,O=Q(),y=Object(o.useState)(void 0),j=Object(r.a)(y,2),I=j[0],E=j[1],k=Object(o.useState)(!1),F=Object(r.a)(k,2),S=F[0],H=F[1],T=Object(o.useState)(!1),L=Object(r.a)(T,2),A=L[0],N=L[1],x=Object(o.useState)(!1),w=Object(r.a)(x,2),D=w[0],V=w[1],J=Object(o.useState)({children:"",onAgree:function(){return""}}),G=Object(r.a)(J,2),q=G[0],X=G[1],Y=Object(o.useState)(!1),Z=Object(r.a)(Y,2),$=Z[0],_=Z[1],ee=Object(o.useState)(!1),ne=Object(r.a)(ee,2),te=ne[0],ae=ne[1],re=Object(o.useState)(!1),oe=Object(r.a)(re,2),ie=oe[0],ce=oe[1];if(Object(o.useEffect)((function(){t()}),[]),Object(o.useEffect)((function(){var e=(f||{}).message;e&&v.toastr.error(C.a.saveFailure,e)}),[f]),Object(o.useEffect)((function(){b&&(t(),ue())}),[b]),l()(n)&&!c)return i.a.createElement(i.a.Fragment,null);var le=function(e){E(e),H(!0)},fe=function(e){return"Are you sure? - This action cannot be reverted. Do you want to ".concat(e," the offer?")},se=function(e){m({offerId:e,newStep:h.xc.buyerAcceptCounterOffer})},de=function(e){m({offerId:e,newStep:h.xc.buyerDecline})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.isReload;E(),_(!1),H(!1),V(!1),n&&t()},pe=function(e){E(e),ae(!0)},me=function(e){E(e),ce(!0)},ge=function(e){E(e),N(!0)},be=I&&Object(M.d)(I);return i.a.createElement(u.a,{tag:"div",blocking:c,loader:i.a.createElement(d.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(p.a)(O.container,Object(a.a)({},O.loading,c))},n.map((function(e){return i.a.createElement(R,{offer:e,key:s()(e,"OfferId"),openOfferDialogHandler:le,openConfirmTransferHandler:pe,openScheduleInspectionHandler:me,openOriginalOfferDialogHandler:ge})})),i.a.createElement(z.a,{offer:be,open:$,handleClickCloseDialog:ue,isFormLoaded:g}),i.a.createElement(B.a,{open:S,offer:be,onClose:function(){E(void 0),H(!1)},handleApproval:function(e){V(!0),X({children:fe("accept"),onAgree:function(){V(!1),se(e)}})},handleDecline:function(e){V(!0),X({children:fe("decline"),onAgree:function(){V(!1),de(e)}})},handleCounter:function(e){E(e),H(!1),_(!0)},isSubmitting:c}),i.a.createElement(P.a,Object.assign({open:D,onClose:function(){return V(!1)}},q)),i.a.createElement(U.a,{open:te,handleClose:function(){return ae(!1)},offer:be}),i.a.createElement(W.a,{open:ie,handleClose:function(){return ce(!1)},offer:be}),i.a.createElement(K,{open:A,onClose:function(){return N(!1)},offer:be}))})))}}]);
//# sourceMappingURL=10.8f9886c2.chunk.js.map