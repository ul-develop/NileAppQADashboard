(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[11],{1491:function(e,n,t){"use strict";var a=t(0),r=t(175);n.a=Object(r.a)(a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline")},1492:function(e,n,t){"use strict";var a=t(0),r=t(175);n.a=Object(r.a)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked")},1493:function(e,n,t){"use strict";var a=t(0),r=t(175);n.a=Object(r.a)(a.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},1543:function(e,n,t){"use strict";t.r(n);var a=t(117),r=t(38),o=t(0),i=t.n(o),c=t(53),l=t.n(c),f=t(49),s=t.n(f),d=t(130),p=t(111),u=t(24),m=t(418),g=t(170),O=t(153),b=t(101),v=t(128),y=t(40),h=t(1),C=t(223),I=t(315),j=t(5),E=t(273),S=t(175),H=Object(S.a)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined"),k=t(1491),F=t(1492),T=t(1493),N=t(137),A=Object(m.a)((function(e){return{link:{fontFamily:e.typography.fontFamily.avenirLT,border:"1px solid #E0E0E0",backgroundColor:e.palette.background.lightGray,padding:e.spacing(2.125),marginBottom:e.spacing(1),display:"flex",alignItems:"center",cursor:"pointer"},name:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginLeft:e.spacing(1),color:e.palette.text.dark,flex:1}),linkHighlight:{fontWeight:"900"},disabledLink:{pointerEvents:"none",opacity:.5},selectIcon:{float:"right",width:"14px",height:"14px",color:e.palette.primary.main},checkIcon:{color:e.palette.primary.main},disabledIcon:{color:e.palette.primary.gray},loopIcon:{color:e.palette.primary.gray},cancelIcon:{color:e.palette.error.dark}}})),D=function(e){var n=e.step,t=e.isEnabled,r=e.isFinished,i=e.isCancelled,c=e.action,l=e.offer,f=A(),s=c.redirectTo,d=c.onClickHandler,p=function(){return o.createElement(o.Fragment,null,i?o.createElement(H,{className:f.cancelIcon}):r?o.createElement(k.a,{className:f.checkIcon}):o.createElement(F.a,{className:f.loopIcon}),o.createElement("span",{className:Object(u.a)(f.name,Object(a.a)({},f.linkHighlight,t))},n.name),o.createElement(T.a,{className:Object(u.a)(f.selectIcon,Object(a.a)({},f.disabledIcon,!t))}))};return s?o.createElement(N.b,{className:Object(u.a)(f.link,Object(a.a)({},f.disabledLink,!t)),to:s},p()):o.createElement("div",{className:Object(u.a)(f.link,Object(a.a)({},f.disabledLink,!t)),onClick:function(){return d(l)}},p())},w=Object(j.a)(Object(j.a)({},h.zc),{},{viewOriginalOffer:101,contingencyRemoval:801}),L=[{id:w.pleaseComplete,name:"Continue Offer"},{id:w.viewOriginalOffer,name:"View Original Offer"},{id:w.counteredBySeller,name:"Negotiate"},{id:w.confirmTransfer,name:"Wire"},{id:w.scheduleAProperty,name:"Inspection"},{id:w.submitCorrectiveAction,name:"Request for Repair"},{id:w.contingencyRemoval,name:"Contingency Removal"}],z=function(e){var n=e.offerId,t=(e.stepId,e.formId);return"/offer?offerId=".concat(n,"&step=").concat(h.zc.pleaseComplete,"&formId=").concat(t)},P=function(e){var n=e.offer,t=e.stepId,a=e.openOfferDialogHandler,r=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,i=e.openOriginalOfferDialogHandler;switch(t){case w.pleaseComplete:return function(e){return{redirectTo:z({offerId:s()(e,["OfferId"]),stepId:h.zc.pleaseComplete,formId:s()(e,["Forms",0,"FormId"])})}}(n);case w.viewOriginalOffer:return{onClickHandler:i};case w.counteredBySeller:return{onClickHandler:a};case w.confirmTransfer:return{onClickHandler:r};case w.scheduleAProperty:return{onClickHandler:o};case w.submitCorrectiveAction:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.mc.scar})),t=s()(n,["FormId"]);return{redirectTo:z({offerId:s()(e,["OfferId"]),stepId:h.zc.submitCorrectiveAction,formId:t})}}(n);case w.contingencyRemoval:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.mc.contingencyRemoval})),t=s()(n,["FormId"]);return{redirectTo:z({offerId:s()(e,["OfferId"]),stepId:h.zc.confirmTransfer,formId:t})}}(n);default:return{redirectTo:"/"}}},B=function(e){var n=e.offer,t=e.step,a=e.openOfferDialogHandler,r=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,i=e.openOriginalOfferDialogHandler,c=s()(n,"StepId",0),f=s()(t,"id",0),d=function(e){var n=e.offerStep,t=e.stepId;return[w.advisorDecline,w.sellerDecline,w.buyerDecline].includes(n)&&t>=w.counteredBySeller}({offerStep:c,stepId:f}),p=function(e){var n=e.offer,t=e.stepId,a=s()(n,"StepId",0),r=t===w.pleaseComplete&&a===w.pleaseResubmit,o=t===w.viewOriginalOffer&&a>w.pleaseComplete,i=s()(n,"Contingencies"),c=t===w.contingencyRemoval&&!l()(i)&&!s()(i,"AllRemoved");return r||o||c||a===t}({offer:n,stepId:f});return{offer:n,step:t,stepId:f,isCancelled:d,isEnabled:p,isFinished:function(e){var n=e.offerStep,t=e.stepId;return t===w.viewOriginalOffer?n>=w.awaitingAdvisorApproval:t<n}({offerStep:c,stepId:f}),action:!d&&p?P({offer:n,stepId:f,openOfferDialogHandler:a,openConfirmTransferHandler:r,openScheduleInspectionHandler:o,openOriginalOfferDialogHandler:i}):{}}},x=["stepId"],M=Object(m.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray})}})),R=function(e){var n=e.offer,t=void 0===n?{}:n,a=e.openOfferDialogHandler,r=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,c=e.openOriginalOfferDialogHandler,f=M();return l()(t)?i.a.createElement(i.a.Fragment,null):i.a.createElement(E.a,{className:f.widget,title:"Home Purchase Action Steps"},i.a.createElement("div",{className:f.description},"To purchase property"," ",i.a.createElement("strong",null,s()(t,"Property.PropertyData.FullAddress",""))," ","you need to complete the steps below:"),L.map((function(e){var n=B({offer:t,step:e,openOfferDialogHandler:a,openConfirmTransferHandler:r,openScheduleInspectionHandler:o,openOriginalOfferDialogHandler:c}),l=n.stepId,f=Object(I.a)(n,x);return i.a.createElement(D,Object.assign({},f,{key:l}))})))},U=t(569),W=t(146),V=t(312),J=t(314),q=t(565),G=t(566),K=t(207),Y=t(1403),Q=t(91),X=t(131),Z=Object(m.a)((function(e){return{spacing:{padding:e.spacing(2)},title:{fontFamily:e.typography.fontFamily.avenir85},dialogContent:{padding:e.spacing(2),paddingTop:0},field:{marginBottom:e.spacing(1.5)},fieldLabel:{marginBottom:e.spacing(1),color:e.palette.primary.gray,textTransform:"uppercase"},fieldValue:{color:e.palette.text.secondaryDark}}})),$=function(e){var n=e.open,t=e.onClose,a=e.offer,r=Z();if(l()(a))return i.a.createElement(i.a.Fragment,null);var o=function(e){if(!e||l()(e))return[];var n=s()(e,"Funding.PurchaseType","");return[{label:"Offer No",value:s()(e,"OfferNo","")},{label:"offer price",value:s()(e,"MappingCounter.OfferPrice")?Object(X.a)(s()(e,"MappingCounter.OfferPrice")):"TBD"},{label:"funding",value:n},{label:"Loan Type",value:n===h.nc.cash?"N/A":s()(e,"Funding.LoanType","")},{label:"finance contingency",value:n===h.nc.cash?"N/A":s()(e,"MappingCounter.FinanceContingency","")},{label:"due diligence contingency",value:s()(e,"MappingCounter.InspectionContingency","")},{label:"home sale contingency",value:s()(e,"MappingCounter.SaleOfHomeContingency","")},{label:"Closing Period",value:s()(e,"MappingCounter.ClosingPeriod","")},{label:"Furniture",value:s()(e,"MappingCounter.Furniture","")},{label:"Buyer Name",value:Object(W.c)(e)},{label:"Buyer Agent Name",value:Object(W.d)(s()(e,"AgentInfo",{}))},{label:"Nile Listing Agent Name",value:"Khaled Yatim"},{label:"Property Address",value:s()(e,"Property.PropertyData.FullAddress","")}]}(a);return i.a.createElement(Q.a,{open:n,"aria-labelledby":"customized-dialog-title",onClose:t,scroll:"paper",fullWidth:!0,maxWidth:"sm",visible:1},i.a.createElement(Q.d,{id:"customized-dialog-title",disableTypography:!0,onClose:t,classes:{root:r.spacing}},i.a.createElement(K.a,{variant:"h4",className:r.title},"Offer ",s()(a,"OfferNo","")," - Original Offer")),i.a.createElement(Q.c,{className:r.dialogContent},i.a.createElement(Y.a,{container:!0},o.map((function(e){var n=e.label,t=e.value;return i.a.createElement(Y.a,{item:!0,xs:4,key:n,className:r.field},i.a.createElement(K.a,{variant:"h6",className:r.fieldLabel},n),i.a.createElement(K.a,{variant:"h5",className:r.fieldValue},t))})))))},_=t(1469),ee=t(274),ne=Object(m.a)((function(e){return{container:{minHeight:"100px",marginBottom:e.spacing(3)},loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white}}})),te=Object(v.a)({isUpdatedStep:function(e){return s()(e,["buyerOffer","isUpdatedStep"])},error:function(e){return s()(e,["buyerOffer","error"])},isFormLoaded:function(e){return s()(e,["form","isFormLoaded"])}}),ae={saveOfferStep:O.d};n.default=Object(b.connect)(te,ae)(Object(g.a)((function(e){var n=e.error,t=e.saveOfferStep,c=e.isFormLoaded,f=e.isUpdatedStep,m=ne(),g=Object(o.useState)(void 0),O=Object(r.a)(g,2),b=O[0],v=O[1],I=Object(o.useState)(!1),j=Object(r.a)(I,2),E=j[0],S=j[1],H=Object(o.useState)(!1),k=Object(r.a)(H,2),F=k[0],T=k[1],N=Object(o.useState)(!1),A=Object(r.a)(N,2),D=A[0],w=A[1],L=Object(o.useState)({children:"",onAgree:function(){return""}}),z=Object(r.a)(L,2),P=z[0],B=z[1],x=Object(o.useState)(!1),M=Object(r.a)(x,2),K=M[0],Y=M[1],Q=Object(o.useState)(!1),X=Object(r.a)(Q,2),Z=X[0],te=X[1],ae=Object(o.useState)(!1),re=Object(r.a)(ae,2),oe=re[0],ie=re[1],ce=Object(_.a)(ee.f,{errorPolicy:"all"}),le=ce.data,fe=ce.loading,se=ce.refetch,de=s()(le,["getUserOverview","Offers","Items"],[]);if(Object(o.useEffect)((function(){var e=(n||{}).message;e&&y.toastr.error(C.a.saveFailure,e)}),[n]),Object(o.useEffect)((function(){f&&(se(),Oe())}),[f]),l()(de)&&!fe)return i.a.createElement(i.a.Fragment,null);var pe=function(e){v(e),S(!0)},ue=function(e){return"Are you sure? - This action cannot be reverted. Do you want to ".concat(e," the offer?")},me=function(e){t({offerId:e,newStep:h.zc.buyerAcceptCounterOffer})},ge=function(e){t({offerId:e,newStep:h.zc.buyerDecline})},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.isReload;v(),Y(!1),S(!1),w(!1),n&&se()},be=function(e){v(e),te(!0)},ve=function(e){v(e),ie(!0)},ye=function(e){v(e),T(!0)},he=b&&Object(W.f)(b);return i.a.createElement(p.a,{tag:"div",blocking:fe,loader:i.a.createElement(d.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(u.a)(m.container,Object(a.a)({},m.loading,fe))},de.map((function(e){return i.a.createElement(R,{offer:e,key:s()(e,"OfferId"),openOfferDialogHandler:pe,openConfirmTransferHandler:be,openScheduleInspectionHandler:ve,openOriginalOfferDialogHandler:ye})})),i.a.createElement(J.a,{offer:he,open:K,handleClickCloseDialog:Oe,isFormLoaded:c}),i.a.createElement(U.a,{open:E,offer:he,onClose:function(){v(void 0),S(!1)},handleApproval:function(e){w(!0),B({children:ue("accept"),onAgree:function(){w(!1),me(e)}})},handleDecline:function(e){w(!0),B({children:ue("decline"),onAgree:function(){w(!1),ge(e)}})},handleCounter:function(e){v(e),S(!1),Y(!0)},isSubmitting:fe}),i.a.createElement(V.a,Object.assign({open:D,onClose:function(){return w(!1)}},P)),i.a.createElement(q.a,{open:Z,handleClose:function(){return te(!1)},offer:he}),i.a.createElement(G.a,{open:oe,handleClose:function(){return ie(!1)},offer:he}),i.a.createElement($,{open:F,onClose:function(){return T(!1)},offer:he}))})))}}]);
//# sourceMappingURL=11.56ec631e.chunk.js.map