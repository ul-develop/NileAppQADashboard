(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[2],{1057:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=r(1),n=function(t){var e=t.offerId,r=t.formId,n="".concat(o.xc,"/formdata/forms/").concat(r,"/items/").concat(e),a="".concat(o.f,"/offer?offerId=").concat(e,"&step=1&formId=").concat(r);return{formBaseEndpoint:n,formSubmissionEndpoint:"".concat(n,"/submit"),redirectUrl:a}}},257:function(t,e,r){"use strict";r.r(e);var o=r(89),n=r(0),a=r(359),c=r(78),f=r(122),i=r(103),s=r(109),u=r(132),m=r(49),d=r.n(m),p=r(19),l=r.n(p),O=r(90),v=r(114),b=r(31),F="Conflict - the offer is not in proper step",S=r(172),E=r(1057),M=r(51),h=r(1);var I=Object(u.a)({urls:function(t){return l()(t,["form","urls"])},file:function(t){return l()(t,["form","file"])},error:function(t){return l()(t,["form","error"])},isLoading:function(t){return l()(t,["form","isLoading"])},isFormSaved:function(t){return l()(t,["form","isFormSaved"])},formData:function(t){return l()(t,["form","form","FormData"])}}),g={saveFormData:c.e,saveFormFiles:c.h,getFormFiles:c.d,updateOfferStep:f.d};e.default=Object(i.connect)(I,g)(Object(S.a)((function(t){var e=Object(M.e)(),r=n.useState(!1),c=Object(o.a)(r,2),f=c[0],i=c[1],u=n.useState(!1),m=Object(o.a)(u,2),p=m[0],l=m[1],S=t.formId,I=t.offerId,g=t.saveFormData,j=t.saveFormFiles,A=t.urls,C=t.getFormFiles,D=t.error,N=t.file,_=t.formData,w=t.updateOfferStep,y=t.step,T=t.isFormSaved,U=Object(E.a)({formId:S,offerId:I}),H=U.formBaseEndpoint,R=U.formSubmissionEndpoint,B={pathname:"/",search:"?tab=buy"},L=function(t,e,r){if(!Object(v.e)(_))try{var o=Object(v.b)(t,r);return g({endpoint:e,survey:{currentPageNo:0,data:o,ItemType:s.c.offer}})}catch(D){return void b.toastr.error(O.a.COMMON,D.message)}b.toastr.error(O.a.COMMON,O.a.FORM_SUBMITTED),l(!0)};return n.useEffect((function(){d()(A)||Object(v.h)(N,A,j)}),[A]),n.useEffect((function(){D&&b.toastr.error(O.a.COMMON)}),[D]),n.useEffect((function(){T&&(null===D?b.toastr.success(O.b.COMMON,O.b.FORM_DATA_SAVED_SUCCESS):b.toastr.error(O.a.COMMON,O.a.FORM_DATA_SAVED_FAILURE),l(!0))}),[T]),n.useEffect((function(){p&&f&&e.push(B)}),[f,p]),n.createElement("div",{className:"container"},n.createElement(a.a,{endpoint:H,onFilesUploadHandler:function(t){var e=t.options;return Object(v.f)(e,C)},onCompleteHandler:function(t,e){L(t,R,e);try{var r=parseInt(y)>h.tc.awaitingAdvisorApproval?h.tc.awaitingSellerAction:h.tc.awaitingAdvisorApproval;w({newStep:r,offerId:I})}catch(D){b.toastr.error(O.a.COMMON,F)}},onPageChangedHandler:function(t,e){L(t,"".concat(H),e)},onSaveExitHandler:function(t,e){L(t,"".concat(H),e),i(!0)},formDataParser:function(t,e,r){return Object(v.g)(e,t,r)}}))})))}}]);
//# sourceMappingURL=2.4f09661a.chunk.js.map