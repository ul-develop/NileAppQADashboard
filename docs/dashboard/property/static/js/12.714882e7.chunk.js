(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[12],{1479:function(e,t,r){"use strict";var n=r(418),a=r(419);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(0)),c=(0,n(r(420)).default)(o.createElement("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),"DescriptionOutlined");t.default=c},1515:function(e,t,r){"use strict";r.r(t);var n=r(133),a=r(1457),o=r(412),c=r(27),i=r(50),l=r.n(i),s=r(0),d=r.n(s),u=r(110),f=r(127),p=r(293),m=r(39),b=r(221),g=r(165),I=r(139),O=r(271),v=r(42),y=r(4),h=r(232),j=r(202),D=r(1464),E=r(1398),k=r(5),P=r(22),x=(r(8),r(55)),$=r(30),N=r(292),w=r(80),F=s.forwardRef((function(e,t){var r=e.classes,n=e.className,a=e.color,o=void 0===a?"primary":a,i=e.component,l=void 0===i?"a":i,d=e.onBlur,u=e.onFocus,f=e.TypographyClasses,p=e.underline,m=void 0===p?"hover":p,b=e.variant,g=void 0===b?"inherit":b,I=Object(P.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),O=Object(N.a)(),v=O.isFocusVisible,y=O.onBlurVisible,h=O.ref,D=s.useState(!1),E=D[0],$=D[1],F=Object(w.a)(t,h);return s.createElement(j.a,Object(k.a)({className:Object(c.a)(r.root,r["underline".concat(Object(x.a)(m))],n,E&&r.focusVisible,"button"===l&&r.button),classes:f,color:o,component:l,onBlur:function(e){E&&(y(),$(!1)),d&&d(e)},onFocus:function(e){v(e)&&$(!0),u&&u(e)},ref:F,variant:g},I))})),H=Object($.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(F),U=r(565);var z,C,V=r(182),A=r(147),S=Object(A.d)(z||(z=Object(V.a)(["\n  query generateUrl($fileId: ID!, $offerId: ID!, $propertyId: ID!) {\n    getPropertyOfferPresignedDocument(\n      FileId: $fileId\n      OfferId: $offerId\n      PropertyId: $propertyId\n    ) {\n      presignedUrl\n    }\n  }\n"]))),B=Object(A.d)(C||(C=Object(V.a)(["\n  query generateUrl($fileId: ID!, $offerId: ID!) {\n    getOfferPresignedDocument(FileId: $fileId, OfferId: $offerId) {\n      presignedUrl\n    }\n  }\n"]))),L=r(16),T=r.n(L),W=r(1448),M=r(1479),_=r.n(M),q=Object(o.a)((function(e){return{link:Object(y.a)(Object(y.a)({},e.typography.h5),{},{display:"flex",color:e.palette.text.dark}),list:{marginLeft:"0px"},listItem:{padding:"4px 0"},listItemIcon:{minWidth:"34px","& path":{fill:e.palette.common.gray}},address:Object(y.a)(Object(y.a)({},e.typography.h6),{},{color:e.palette.text.secondary,flex:1}),linkHighlight:{fontWeight:"900"}}})),J=Object(h.a)((function(e){var t=e.documents;return!l()(t)}))((function(e){var t,r,a=e.address,o=e.documents,i=e.offerId,p=e.propertyId,m=e.isSeller,b=q(),g=(t=m?S:B,Object(U.a)(t,r,!0)),I=Object(v.a)(g,2),O=I[0],y=I[1],h=y.loading,k=y.data;return Object(s.useEffect)((function(){var e=m?"getPropertyOfferPresignedDocument.presignedUrl":"getOfferPresignedDocument.presignedUrl",t=T()(k,e);l()(t)||window.open(t,"_blank")}),[k,m]),d.a.createElement(u.a,{tag:"div",blocking:h,loader:d.a.createElement(f.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(c.a)(b.container,Object(n.a)({},b.loading,h))},d.a.createElement(j.a,{className:b.address},a),d.a.createElement(D.a,{className:b.list},o.map((function(e){var t,r=e.id,n=e.documentType;return d.a.createElement(E.a,{key:r,className:b.listItem},d.a.createElement(W.a,{className:b.listItemIcon},d.a.createElement(_.a,null)),d.a.createElement(H,{className:b.link,href:"#",onClick:function(){return O({variables:{fileId:r,offerId:i,propertyId:p},fetchPolicy:"no-cache"})}},(t=n,l()(t)?"":t.replace(/([a-z0-9])([A-Z])/g,"$1 $2"))))}))))})),R=r(156);r.d(t,"DocumentWidget",(function(){return G}));var Z=Object(o.a)((function(e){return{container:{minHeight:"100px"},loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white}}})),G=function(){var e=Z(),t=Object(s.useContext)(I.b).IsSeller,r=Object(a.a)(t?p.d:p.a,{fetchPolicy:"cache-first"}),o=r.loading,i=r.error,g=r.data;Object(s.useEffect)((function(){var e=(i||{}).message;e&&m.toastr.error(b.b.fetchFailure,e)}),[i]);var v=t?function(e){return(T()(e,"getUserOverview.Properties.Items")||[]).reduce((function(e,t){var r=T()(t,"AcceptedOffer")||{},n=T()(r,"Documents")||[];return l()(n)?e:[].concat(Object(R.a)(e),[{documents:n,propertyId:T()(t,"PropertyId"),offerId:T()(r,"OfferId"),address:T()(t,["PropertyData","FullAddress"])}])}),[])}(g):function(e){return(T()(e,"getUserOverview.Offers.Items")||[]).reduce((function(e,t){var r=T()(t,"Documents")||[];return l()(r)?e:[].concat(Object(R.a)(e),[{documents:r,propertyId:T()(t,"Property.PropertyId"),offerId:T()(t,"OfferId"),address:T()(t,"Property.PropertyData.FullAddress")}])}),[])}(g);return!l()(g)&&!l()(v)||o?d.a.createElement(u.a,{tag:"div",blocking:o,loader:d.a.createElement(f.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(c.a)(e.container,Object(n.a)({},e.loading,o))},d.a.createElement(O.a,{title:"Documents"},v.map((function(e){var r=e.propertyId,n=e.offerId,a=e.address,o=e.documents;return d.a.createElement(J,{key:"document-".concat(r,"-").concat(n),propertyId:r,offerId:n,address:a,documents:o,isSeller:t})})))):d.a.createElement(d.a.Fragment,null)};t.default=Object(g.a)(G)}}]);
//# sourceMappingURL=12.714882e7.chunk.js.map