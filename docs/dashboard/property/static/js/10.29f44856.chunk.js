(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[10],{1478:function(e,n,t){"use strict";var r=t(0),a=t(128);n.a=Object(a.a)(r.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline")},1479:function(e,n,t){"use strict";var r=t(0),a=t(128);n.a=Object(a.a)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked")},1480:function(e,n,t){"use strict";var r=t(0),a=t(128);n.a=Object(a.a)(r.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},1516:function(e,n,t){"use strict";t.r(n);var r=t(154),a=t(41),o=t(0),i=t.n(o),c=t(61),l=t.n(c),f=t(49),s=t.n(f),d=t(140),p=t(127),u=t(26),m=t(413),g=t(165),O=t(144),b=t(99),v=t(126),y=t(42),h=t(1),C=t(217),I=t(568),j=t(4),E=t(270),S=t(128),H=Object(S.a)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined"),k=t(1478),F=t(1479),T=t(1480),L=t(153),A=Object(m.a)((function(e){return{link:{fontFamily:e.typography.fontFamily.avenirLT,border:"1px solid #E0E0E0",backgroundColor:e.palette.background.lightGray,padding:e.spacing(2.125),marginBottom:e.spacing(1),display:"flex",alignItems:"center",cursor:"pointer"},name:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginLeft:e.spacing(1),color:e.palette.text.dark,flex:1}),linkHighlight:{fontWeight:"900"},disabledLink:{pointerEvents:"none",opacity:.5},selectIcon:{float:"right",width:"14px",height:"14px",color:e.palette.primary.main},checkIcon:{color:e.palette.primary.main},disabledIcon:{color:e.palette.primary.gray},loopIcon:{color:e.palette.primary.gray},cancelIcon:{color:e.palette.error.dark}}})),D=function(e){var n=e.step,t=e.isEnabled,a=e.isFinished,i=e.isCancelled,c=e.action,l=e.offer,f=A(),s=c.redirectTo,d=c.onClickHandler,p=function(){return o.createElement(o.Fragment,null,i?o.createElement(H,{className:f.cancelIcon}):a?o.createElement(k.a,{className:f.checkIcon}):o.createElement(F.a,{className:f.loopIcon}),o.createElement("span",{className:Object(u.a)(f.name,Object(r.a)({},f.linkHighlight,t))},n.name),o.createElement(T.a,{className:Object(u.a)(f.selectIcon,Object(r.a)({},f.disabledIcon,!t))}))};return s?o.createElement(L.b,{className:Object(u.a)(f.link,Object(r.a)({},f.disabledLink,!t)),to:s},p()):o.createElement("div",{className:Object(u.a)(f.link,Object(r.a)({},f.disabledLink,!t)),onClick:function(){return d(l)}},p())},N=Object(j.a)(Object(j.a)({},h.xc),{},{viewOriginalOffer:101,contingencyRemoval:801}),w=[{id:N.pleaseComplete,name:"Continue Offer"},{id:N.viewOriginalOffer,name:"View Original Offer"},{id:N.counteredBySeller,name:"Negotiate"},{id:N.confirmTransfer,name:"Wire"},{id:N.scheduleAProperty,name:"Inspection"},{id:N.submitCorrectiveAction,name:"SCAR"},{id:N.contingencyRemoval,name:"Contingency Removal"}],x=function(e){var n=e.offerId,t=(e.stepId,e.formId);return"/offer?offerId=".concat(n,"&step=").concat(h.xc.pleaseComplete,"&formId=").concat(t)},z=function(e){var n=e.offer,t=e.stepId,r=e.openOfferDialogHandler,a=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,i=e.openOriginalOfferDialogHandler;switch(t){case N.pleaseComplete:return function(e){return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.pleaseComplete,formId:s()(e,["Forms",0,"FormId"])})}}(n);case N.viewOriginalOffer:return{onClickHandler:i};case N.counteredBySeller:return{onClickHandler:r};case N.confirmTransfer:return{onClickHandler:a};case N.scheduleAProperty:return{onClickHandler:o};case N.submitCorrectiveAction:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.lc.scar})),t=s()(n,["FormId"]);return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.submitCorrectiveAction,formId:t})}}(n);case N.contingencyRemoval:return function(e){var n=(s()(e,["Forms"])||[]).find((function(e){return s()(e,["FormTypeId"])===h.lc.contingencyRemoval})),t=s()(n,["FormId"]);return{redirectTo:x({offerId:s()(e,["OfferId"]),stepId:h.xc.confirmTransfer,formId:t})}}(n);default:return{redirectTo:"/"}}},B=function(e){var n=e.offer,t=e.step,r=e.openOfferDialogHandler,a=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,i=e.openOriginalOfferDialogHandler,c=s()(n,"StepId",0),f=s()(t,"id",0),d=function(e){var n=e.offerStep,t=e.stepId;return[N.advisorDecline,N.sellerDecline,N.buyerDecline].includes(n)&&t>=N.counteredBySeller}({offerStep:c,stepId:f}),p=function(e){var n=e.offer,t=e.stepId,r=s()(n,"StepId",0),a=t===N.pleaseComplete&&r===N.pleaseResubmit,o=t===N.viewOriginalOffer&&r>N.pleaseComplete,i=s()(n,"Contingencies"),c=t===N.contingencyRemoval&&!l()(i)&&!s()(i,"AllRemoved");return a||o||c||r===t}({offer:n,stepId:f});return{offer:n,step:t,stepId:f,isCancelled:d,isEnabled:p,isFinished:function(e){var n=e.offerStep,t=e.stepId;return t===N.viewOriginalOffer?n>=N.awaitingAdvisorApproval:t<n}({offerStep:c,stepId:f}),action:!d&&p?z({offer:n,stepId:f,openOfferDialogHandler:r,openConfirmTransferHandler:a,openScheduleInspectionHandler:o,openOriginalOfferDialogHandler:i}):{}}},M=["stepId"],R=Object(m.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(j.a)(Object(j.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray})}})),P=function(e){var n=e.offer,t=void 0===n?{}:n,r=e.openOfferDialogHandler,a=e.openConfirmTransferHandler,o=e.openScheduleInspectionHandler,c=e.openOriginalOfferDialogHandler,f=R();return l()(t)?i.a.createElement(i.a.Fragment,null):i.a.createElement(E.a,{className:f.widget,title:"Home Purchase Action Steps"},i.a.createElement("div",{className:f.description},"To purchase property"," ",i.a.createElement("strong",null,s()(t,"Property.PropertyData.FullAddress",""))," ","you need to complete the steps below:"),w.map((function(e){var n=B({offer:t,step:e,openOfferDialogHandler:r,openConfirmTransferHandler:a,openScheduleInspectionHandler:o,openOriginalOfferDialogHandler:c}),l=n.stepId,f=Object(I.a)(n,M);return i.a.createElement(D,Object.assign({},f,{key:l}))})))},U=t(567),W=t(229),V=t(308),J=t(310),G=t(564),q=t(565),K=t(200),Q=t(1399),X=t(89),Y=t(112),Z=Object(m.a)((function(e){return{spacing:{padding:e.spacing(2)},title:{fontFamily:e.typography.fontFamily.avenir85},dialogContent:{padding:e.spacing(2),paddingTop:0},field:{marginBottom:e.spacing(1.5)},fieldLabel:{marginBottom:e.spacing(1),color:e.palette.primary.gray,textTransform:"uppercase"},fieldValue:{color:e.palette.text.secondaryDark}}})),$=function(e){var n=e.open,t=e.onClose,r=e.offer,a=Z();if(l()(r))return i.a.createElement(i.a.Fragment,null);var o=function(e){if(!e||l()(e))return[];var n=s()(e,"Funding.PurchaseType","");return[{label:"Offer No",value:s()(e,"OfferNo","")},{label:"offer price",value:s()(e,"MappingCounter.OfferPrice")?Object(Y.a)(s()(e,"MappingCounter.OfferPrice")):"TBD"},{label:"funding",value:n},{label:"Loan Type",value:n===h.mc.cash?"N/A":s()(e,"Funding.LoanType","")},{label:"finance contingency",value:n===h.mc.cash?"N/A":s()(e,"Contingencies.FinanceContingency","")},{label:"due diligence contingency",value:s()(e,"MappingCounter.InspectionContingency","")},{label:"home sale contingency",value:s()(e,"MappingCounter.SaleOfHomeContingency","")},{label:"Closing Period",value:s()(e,"MappingCounter.ClosingPeriod","")},{label:"Furniture",value:s()(e,"MappingCounter.Furniture","")}]}(r);return i.a.createElement(X.a,{open:n,"aria-labelledby":"customized-dialog-title",onClose:t,scroll:"paper",fullWidth:!0,maxWidth:"sm",visible:1},i.a.createElement(X.d,{id:"customized-dialog-title",disableTypography:!0,onClose:t,classes:{root:a.spacing}},i.a.createElement(K.a,{variant:"h4",className:a.title},"Offer ",s()(r,"OfferNo","")," - Original Offer")),i.a.createElement(X.c,{className:a.dialogContent},i.a.createElement(Q.a,{container:!0},o.map((function(e){var n=e.label,t=e.value;return i.a.createElement(Q.a,{item:!0,xs:4,key:n,className:a.field},i.a.createElement(K.a,{variant:"h6",className:a.fieldLabel},n),i.a.createElement(K.a,{variant:"h5",className:a.fieldValue},t))})))))},_=Object(m.a)((function(e){return{container:{minHeight:"100px",marginBottom:e.spacing(3)},loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white}}})),ee=Object(v.a)({offers:function(e){return s()(e,["buyerOffer","offers"])},isUpdatedStep:function(e){return s()(e,["buyerOffer","isUpdatedStep"])},isLoading:function(e){return s()(e,["buyerOffer","isLoading"])},error:function(e){return s()(e,["buyerOffer","error"])},isFormLoaded:function(e){return s()(e,["form","isFormLoaded"])}}),ne={getAllOffers:O.a,saveOfferStep:O.d};n.default=Object(b.connect)(ee,ne)(Object(g.a)((function(e){var n=e.offers,t=e.getAllOffers,c=e.isLoading,f=e.error,m=e.saveOfferStep,g=e.isFormLoaded,O=e.isUpdatedStep,b=_(),v=Object(o.useState)(void 0),I=Object(a.a)(v,2),j=I[0],E=I[1],S=Object(o.useState)(!1),H=Object(a.a)(S,2),k=H[0],F=H[1],T=Object(o.useState)(!1),L=Object(a.a)(T,2),A=L[0],D=L[1],N=Object(o.useState)(!1),w=Object(a.a)(N,2),x=w[0],z=w[1],B=Object(o.useState)({children:"",onAgree:function(){return""}}),M=Object(a.a)(B,2),R=M[0],K=M[1],Q=Object(o.useState)(!1),X=Object(a.a)(Q,2),Y=X[0],Z=X[1],ee=Object(o.useState)(!1),ne=Object(a.a)(ee,2),te=ne[0],re=ne[1],ae=Object(o.useState)(!1),oe=Object(a.a)(ae,2),ie=oe[0],ce=oe[1];if(Object(o.useEffect)((function(){t()}),[]),Object(o.useEffect)((function(){var e=(f||{}).message;e&&y.toastr.error(C.a.saveFailure,e)}),[f]),Object(o.useEffect)((function(){O&&(t(),pe())}),[O]),l()(n)&&!c)return i.a.createElement(i.a.Fragment,null);var le=function(e){E(e),F(!0)},fe=function(e){return"Are you sure? - This action cannot be reverted. Do you want to ".concat(e," the offer?")},se=function(e){m({offerId:e,newStep:h.xc.buyerAcceptCounterOffer})},de=function(e){m({offerId:e,newStep:h.xc.buyerDecline})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.isReload;E(),Z(!1),F(!1),z(!1),n&&t()},ue=function(e){E(e),re(!0)},me=function(e){E(e),ce(!0)},ge=function(e){E(e),D(!0)},Oe=j&&Object(W.d)(j);return i.a.createElement(p.a,{tag:"div",blocking:c,loader:i.a.createElement(d.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(u.a)(b.container,Object(r.a)({},b.loading,c))},n.map((function(e){return i.a.createElement(P,{offer:e,key:s()(e,"OfferId"),openOfferDialogHandler:le,openConfirmTransferHandler:ue,openScheduleInspectionHandler:me,openOriginalOfferDialogHandler:ge})})),i.a.createElement(J.a,{offer:Oe,open:Y,handleClickCloseDialog:pe,isFormLoaded:g}),i.a.createElement(U.a,{open:k,offer:Oe,onClose:function(){E(void 0),F(!1)},handleApproval:function(e){z(!0),K({children:fe("accept"),onAgree:function(){z(!1),se(e)}})},handleDecline:function(e){z(!0),K({children:fe("decline"),onAgree:function(){z(!1),de(e)}})},handleCounter:function(e){E(e),F(!1),Z(!0)},isSubmitting:c}),i.a.createElement(V.a,Object.assign({open:x,onClose:function(){return z(!1)}},R)),i.a.createElement(G.a,{open:te,handleClose:function(){return re(!1)},offer:Oe}),i.a.createElement(q.a,{open:ie,handleClose:function(){return ce(!1)},offer:Oe}),i.a.createElement($,{open:A,onClose:function(){return D(!1)},offer:Oe}))})))}}]);
//# sourceMappingURL=10.29f44856.chunk.js.map