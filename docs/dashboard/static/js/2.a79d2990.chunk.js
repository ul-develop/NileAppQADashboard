(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[2],{1072:function(e,r,t){"use strict";var o=t(80),n=t(0),a=t(258),c=t(78),f=t(101),s=t(109),i=t(127),u=t(49),m=t.n(u),d=t(16),l=t.n(d),O=t(89),b=t(119),p=t(30),v=t(157),F=t(1),E=t(52);var I=Object(i.a)({urls:function(e){return l()(e,["form","urls"])},file:function(e){return l()(e,["form","file"])},error:function(e){return l()(e,["form","error"])},isLoading:function(e){return l()(e,["form","isLoading"])},isFormSaved:function(e){return l()(e,["form","isFormSaved"])},formData:function(e){return l()(e,["form","form","FormData"])}}),S={saveFormData:c.e,saveFormFiles:c.h,getFormFiles:c.d};r.a=Object(f.connect)(I,S)(Object(v.a)((function(e){var r=Object(E.e)(),t=n.useState(!1),c=Object(o.a)(t,2),f=c[0],i=c[1],u=n.useState(!1),d=Object(o.a)(u,2),l=d[0],v=d[1],I=e.formId,S=e.offerId,M=e.saveFormData,h=e.saveFormFiles,j=e.urls,D=e.getFormFiles,C=e.error,g=e.file,A=e.formData,N=e.isFormSaved,_=function(e){var r=e.offerId,t=e.formId,o="".concat(F.yc,"/formdata/forms/").concat(t,"/items/").concat(r),n="".concat(F.f,"/offer?offerId=").concat(r,"&step=1&formId=").concat(t);return{formBaseEndpoint:o,formSubmissionEndpoint:"".concat(o,"/submit"),redirectUrl:n}}({formId:I,offerId:S}),y=_.formBaseEndpoint,T=_.formSubmissionEndpoint,U={pathname:"/",search:"?tab=buy"},H=n.useState(!1),R=Object(o.a)(H,2),B=R[0],L=R[1],k=function(e,r,t,o){if(!Object(b.e)(A))try{var n=Object(b.b)(e,t,o);return M({endpoint:r,survey:{currentPageNo:0,data:n,ItemType:s.c.offer}})}catch(C){return void p.toastr.error(O.a.COMMON,C.message)}p.toastr.error(O.a.COMMON,O.a.FORM_SUBMITTED),v(!0)};return n.useEffect((function(){m()(j)?L(!0):(L(!1),Object(b.h)(g,j,h))}),[j]),n.useEffect((function(){C&&p.toastr.error(O.a.COMMON)}),[C]),n.useEffect((function(){N&&(null===C?p.toastr.success(O.b.COMMON,O.b.FORM_DATA_SAVED_SUCCESS):p.toastr.error(O.a.COMMON,O.a.FORM_DATA_SAVED_FAILURE),v(!0))}),[N]),n.useEffect((function(){l&&f&&(!m()(j)||B)&&r.push(U)}),[f,l,j]),n.createElement("div",{className:"container"},n.createElement(a.a,{endpoint:y,onFilesUploadHandler:function(e){var r=e.options;return Object(b.f)(r,D)},onCompleteHandler:function(e,r,t){k(e,T,r,t),i(!0)},onPageChangedHandler:function(e,r,t){k(e,"".concat(y),r,t)},onSaveExitHandler:function(e,r,t){k(e,"".concat(y),r,t),i(!0)}}))})))},195:function(e,r,t){"use strict";t.r(r);var o=t(0),n=t.n(o),a=t(1072);r.default=function(e){var r=e.offerId,t=e.step,o=e.formId;return n.a.createElement(a.a,{offerId:r,step:t,formId:o})}}}]);
//# sourceMappingURL=2.a79d2990.chunk.js.map