(this.webpackJsonpnilehome=this.webpackJsonpnilehome||[]).push([[13],{1518:function(e,t,r){"use strict";r.r(t);var n=r(154),a=r(0),c=r.n(a),l=r(164),o=r(144),i=r(183),u=r(99),f=r(126),s=r(17),m=r.n(s),d=r(139),g=r(127),p=r(26),b=r(413),E=r(140),O=r(42),y=r(217),j=r(156),v=r(61),h=r.n(v),F=r(4),B=r(270),L=r(30),k=r(1461),I=r(1463),N=r(1459),S=r(1460),C=r(1464),P=r(229),D=r(41),w=r(1405),x=r(1472),T=r(1466),A=r(200),J=r(1),R=r(563),z=r.n(R),H=r(153),M=function(e){var t=e.offer,r=Object(a.useState)(null),n=Object(D.a)(r,2),l=n[0],o=n[1],i=m()(t,["OfferId"]),u=m()(t,["Forms"]).find((function(e){return m()(e,["FormTypeId"])===J.lc.contingencyRemoval})),f=m()(u,["FormId"]),s=Boolean(l),d="/offer?offerId=".concat(i,"&step=").concat(J.xc.confirmTransfer,"&formId=").concat(f);return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{color:"primary",onClick:function(e){o(e.currentTarget)}},c.a.createElement(z.a,{sx:{fontSize:"1.3rem"}})),c.a.createElement(x.a,{anchorEl:l,keepMounted:!0,open:s,onClose:function(){o(null)}},c.a.createElement(T.a,null,c.a.createElement(H.b,{to:d},c.a.createElement(A.a,{variant:"h4"},"Remove")))))},W=Object(L.a)((function(e){return{root:{fontWeight:"bold"}}}))(k.a),q=Object(b.a)((function(e){return{widget:{marginBottom:e.spacing(3)},description:Object(F.a)(Object(F.a)({},e.typography.h5),{},{marginBottom:e.spacing(3),color:e.palette.primary.gray}),table:{fontFamily:e.typography.fontFamily.avenirLT},cell:Object(n.a)({height:e.spacing(6)},e.breakpoints.up("md"),{border:"none"})}})),G=function(e){var t=e.contingencies,r=e.offer,n=e.isBuyer,a=q();if(h()(t)||h()(r))return c.a.createElement(c.a.Fragment,null);var l=Object(P.a)(r);return c.a.createElement(B.a,{className:a.widget,title:"Contingencies status"},c.a.createElement("div",{className:a.description},"Contingencies status of your property"," ",c.a.createElement("strong",null,m()(r,"Property.PropertyData.FullAddress",""))),c.a.createElement(I.a,{className:a.table},c.a.createElement(N.a,null,c.a.createElement(S.a,null,c.a.createElement(W,{padding:"none"},"Type"),c.a.createElement(W,{padding:"none"},"Due Date"),c.a.createElement(W,{padding:"none"},"Status"),n&&c.a.createElement(W,{padding:"none",align:"right"},"Action"))),c.a.createElement(C.a,null,t.map((function(e){var t=l&&!Object(P.b)(e);return c.a.createElement(S.a,{key:e.title},c.a.createElement(k.a,{className:a.cell,padding:"none"},e.title),c.a.createElement(k.a,{className:a.cell,padding:"none"},e.dueDate||"n/a"),c.a.createElement(k.a,{className:a.cell,padding:"none"},e.status||"n/a"),n&&t&&c.a.createElement(k.a,{className:a.cell,padding:"none",align:"right"},c.a.createElement(M,{offer:r})))})))))},K="buyer",Q="seller",U=r(49),V=r.n(U),X=Object(b.a)((function(e){return{loading:{border:"1px solid #E0E0E0",backgroundColor:e.palette.common.white,minHeight:"100px"}}})),Y=Object(f.a)({buyerOffers:function(e){return m()(e,["buyerOffer","offers"],[])},isBuyerLoading:function(e){return m()(e,["buyerOffer","isLoading"])},buyerError:function(e){return m()(e,["buyerOffer","error"],{})},sellerOffers:function(e){return V()(e,["sellerOffers","list"]).map((function(e){var t=e.Offers,r=void 0===t?[]:t,n=e.ListPrice,a=void 0===n?0:n,c=e.PropertyData,l=void 0===c?{}:c;return r.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{ListPrice:a,Property:{PropertyData:l}})}))})).flat()},isSellerLoading:function(e){return m()(e,["sellerOffers","isLoading"])},sellerError:function(e){return m()(e,["sellerOffer","error"],{})}}),Z={getBuyerOffers:o.a,getSellerOffers:i.a};t.default=Object(u.connect)(Y,Z)(Object(l.a)((function(e){var t=e.getBuyerOffers,r=e.buyerOffers,l=e.isBuyerLoading,o=e.buyerError,i=e.getSellerOffers,u=e.sellerOffers,f=e.isSellerLoading,s=e.sellerError,b=X(),v=function(e){var t=m()(e,"IsBuyer",!1);return m()(e,"IsSeller",!1)?Q:t?K:""}(Object(a.useContext)(E.b)),F=v===K;if(Object(a.useEffect)((function(){v&&(F?t():i())}),[v]),Object(a.useEffect)((function(){if(v){var e=F?o:s,t=m()(e,"message","");t&&O.toastr.error(y.a.fetchFailure,t)}}),[v,o,s]),!v)return c.a.createElement(c.a.Fragment,null);var B=l||f,L=F?r:u;return h()(L)&&!B?c.a.createElement(c.a.Fragment,null):c.a.createElement(g.a,{tag:"div",blocking:B,loader:c.a.createElement(d.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"}),className:Object(p.a)(Object(n.a)({},b.loading,B))},function(e,t){return e.reduce((function(e,r){if(!(Object(P.c)(r)&&!h()(m()(r,["Contingencies"]))))return e;var n=Object(P.e)(r);return[].concat(Object(j.a)(e),[c.a.createElement(G,{key:m()(r,["OfferId"]),offer:r,contingencies:n,isBuyer:t})])}),[])}(L,F))})))}}]);
//# sourceMappingURL=13.be7b1ef7.chunk.js.map