{"version":3,"sources":["components/Calendar/SelectedCells.jsx","components/Calendar/DayScaleCell.js","components/Calendar/TimeTableCell.js","components/Calendar/Appointment.js","components/Calendar/TooltipContent.js","components/Calendar/IntegratedDates.js","services/YouCanBook/Request.js","services/YouCanBook/ProfilesService.js","services/YouCanBook/helpers.js","services/YouCanBook/BookingsService.js","components/Calendar/hooks/useConfig.js","components/Calendar/hooks/useAppointments.js","components/Calendar/hooks/useError.js","components/Calendar/BookingForm/constants.js","components/Calendar/BookingForm/helpers.js","components/Calendar/BookingForm/AppointmentData/index.jsx","components/Calendar/BookingForm/AppointmentTypes/index.jsx","components/Elements/TextField/index.jsx","components/Calendar/BookingForm/Fields/SimpleField.jsx","components/Elements/Select/index.jsx","components/Elements/Checkbox/index.jsx","components/Calendar/BookingForm/Fields/CheckboxField.jsx","components/Calendar/BookingForm/Fields/index.jsx","components/Calendar/BookingForm/Fields/DropdownField.jsx","components/Calendar/BookingForm/SubmitButton/index.jsx","components/Calendar/BookingForm/BookingForm.jsx","components/Calendar/BookingForm/RepeatSection/index.jsx","components/Calendar/BookingForm/SellerBookingForm.jsx","components/Calendar/AppointmentForm/BasicLayout.jsx","components/Calendar/AppointmentForm/Layout.jsx","components/Calendar/AppointmentForm/CommandLayout.jsx","components/Calendar/AppointmentForm/Overlay.jsx","components/Calendar/AppointmentForm/AppointmentForm.jsx","components/Calendar/AppointmentContainer.jsx","components/Calendar/Timezone.js","components/Calendar/Calendar.js"],"names":["useStyles","makeStyles","theme","cells","width","position","left","background","palette","primary","light","structuredSelector","createStructuredSelector","selectingCells","state","_get","slotLengthMinutes","connect","withErrorBoundary","React","props","classes","cellsProps","getCellsProp","onMouseUp","event","preventDefault","_isEmpty","target","classList","contains","CELL_CLASS","isElementContains","OVERLAY_ID","DATE_PICKER_ID","startCell","cell","document","getElementById","toString","dispatchEvent","Event","bubbles","window","addEventListener","removeEventListener","className","style","padding","spacing","display","textAlign","today","backgroundColor","alpha","main","selectingDate","isSelecting","startDate","hasSelectingCells","moment","format","DATE_FORMAT","Box","component","sx","DayScaleCell","clsx","zIndex","mobileStepper","disableCell","action","disabledBackground","backgroundSize","pointerEvents","createSelector","timeConfig","timeZone","dateString","onDoubleClick","restProps","dispatch","useDispatch","TimeTableCell","id","onMouseDown","beginSelectingCell","onMouseEnter","addSelectedCell","isCellActive","config","appointment","speedDial","color","common","white","busy","lightGray","gray","title","overflow","fontWeight","whiteSpace","textOverflow","property","children","data","isBuyer","isBusyBooking","isBusyAppointment","displayTime","formatTime","Appointment","Typography","variant","root","wrapper","paddingTop","section","marginBottom","appointmentData","displayDate","isBusy","getBookingInfo","fullName","email","dre","Paper","mb","alignItems","mr","MailOutline","fontSize","Dialpad","AccessTime","mapDispatchToProps","setStartOfWeek","setEndOfWeek","undefined","name","computed","startViewDate","endViewDate","Request","this","baseURL","process","cancelToken","method","url","params","headers","needResHeaders","self","CancelToken","axios","Promise","resolve","reject","options","timeout","Authorization","PLACEHOLDER_AUTHORIZATION","c","request","then","res","JSON","parse","error","status","message","errors","fields","PATHS","PROFILES","getEmail","booking","emailField","filter","answer","code","filterCancelledBookings","cancelled","remapBookings","bookings","map","rawStart","rawEnd","endDate","services","answers","remapBooking","a","profileId","BOOKINGS","BOOKING_FIELDS","cur","length","push","from","to","needMore","nextPage","jumpToDate","resLink","tmpBookings","lastItemStartDate","isBefore","useConfig","clientTimeZone","useSelector","useEffect","setProfileId","setIsLoading","ProfilesService","getProfileById","CALENDAR_CONFIG_FIELDS","setConfig","setError","cancel","useAppointments","startOfWeek","endOfWeek","appointments","BookingsService","getBookings","setAppointments","useError","toastr","ERROR_MESSAGES","getTimeConfig","TYPES","defaultValues","REPEAT_TYPE","generateInitialValues","questions","reduce","acc","type","appointmentType","prepareQuestionsAnswers","values","string","generateBookingRange","endCell","start","formatCells","startMinutes","toMinutes","endMinutes","duration","Math","abs","Array","_","i","startsAt","add","prepareBookingData","times","FNAME","tentative","tz","guess","units","getBusyAppointmentType","appointmentTypes","find","toLowerCase","prepareSellerBookings","repeat","repeatType","busyAppointmentType","bookingRange","mStartDate","diff","module","floor","day","mDay","bookingsInDay","getErrorMessages","bookingDates","join","emailRegex","typography","h4","date","end","displayStart","displayEnd","mt","group","margin","button","textTransform","buttonLabel","justifyContent","selected","AppointmentTypes","useFormikContext","setFieldValue","value","ToggleButtonGroup","orientation","exclusive","onChange","newTypeId","newType","ToggleButton","label","key","ml","getAppointmentTypeDuration","textField","marginTop","dark","input","h5","TextField","styleClasses","placeholder","required","FormControl","FormLabel","InputProps","after","subtitle","select","item","Select","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","MenuItem","option","checkbox","Checkbox","checked","FormControlLabel","control","components","question","before","handleChange","flexDirection","my","Boolean","FormHelperText","Fields","Component","SubmitButton","isLoading","isValidValues","EMAIL","some","RegExp","test","checkValidValues","Button","disableElevation","fullWidth","disabled","addAppointments","onSave","buyerAppointmentTypes","BUSY_APPOINTMENT_NAME","initialValues","onSubmit","createBookings","Divider","popover","RepeatSection","handleDateChange","field","Switch","Collapse","in","RadioGroup","Radio","Grid","container","utils","MomentUtils","inputVariant","Date","PopoverProps","address","Auth","DRE","generateSellerValues","FormComponent","SellerBookingForm","BookingForm","layout","content","minWidth","maxHeight","Layout","BasicLayout","basicLayoutComponent","CommandLayout","commandLayoutComponent","RecurrenceLayout","recurrenceLayoutComponent","isRecurrence","onCommitButtonClick","isSaving","setIsSaving","Overlay","visible","onHide","Modal","onClose","stopSelectingCell","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","open","anchor","Fade","AppointmentForm","useState","BasicLayoutComponent","connectProps","CommandLayoutComponent","layoutComponent","overlayComponent","AppointmentContainer","useTheme","appBar","memo","timeZones","names","inputValue","setInputValue","p","xs","lg","Autocomplete","newValue","setClientTimeZone","getOptionLabel","onInputChange","newInputValue","renderInput","startAdornment","InputAdornment","minHeight","fontFamily","avenirLT","loading","border","tag","blocking","loader","active","elevation","Timezone","timeTableCellComponent","dayScaleCellComponent","cellDuration","DEFAULT_DURATION","onCommitChanges","appointmentComponent","containerComponent","showCloseButton","contentComponent","TooltipContent"],"mappings":"4QAgBMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,MAAO,CACLC,MAAO,OACPC,SAAU,WACVC,KAAM,EACNC,WAAYL,EAAMM,QAAQC,QAAQC,WA2ChCC,EAAqBC,YAAyB,CAClDC,eAAgB,SAAAC,GAAK,OAAIC,IAAKD,EAAO,4BACrCE,kBAAmB,SAAAF,GAAK,OACtBC,IAAKD,EAAO,8CAIAG,oBAAQN,EAARM,CACdC,YAAkBC,QA1CE,SACpBC,GAEA,IAAMC,EAAUrB,IACRa,EAAsCO,EAAtCP,eAAgBG,EAAsBI,EAAtBJ,kBAClBM,EAAaC,YAAaV,EAAgBG,GAE1CQ,EAAY,SAAAC,GAEhB,GADAA,EAAMC,kBACFC,IAASd,GAAb,CAEA,IAAQe,EAAWH,EAAXG,OACR,IAAIA,EAAOC,UAAUC,SAASC,OAC1BC,YAAkBC,IAAYL,KAC9BI,YAAkBE,IAAgBN,GAAtC,CAEA,IAAQO,EAActB,EAAdsB,UACFC,EAAOC,SAASC,eAAeH,EAAUI,YAC3CH,GACFA,EAAKI,cAAc,IAAIC,MAAM,UAAW,CAAEC,SAAS,QAYvD,OARAvB,aAAgB,WAEd,OADAwB,OAAOC,iBAAiB,UAAWpB,GAC5B,WACLmB,OAAOE,oBAAoB,UAAWrB,MAGvC,IAEI,uBAAKsB,UAAWzB,EAAQlB,MAAO4C,MAAOzB,S,2BC/CzCtB,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkC,KAAM,CACJ,KAAM,CACJY,QAAS9C,EAAM+C,QAAQ,EAAG,GAC1B7C,MAAO,OACP8C,QAAS,QACTC,UAAW,WAGfC,MAAO,CACLC,gBAAiBC,YAAMpD,EAAMM,QAAQC,QAAQ8C,KAAM,UA8BjD5C,EAAqBC,YAAyB,CAClD4C,cAAe,SAAA1C,GAAK,OAAIC,IAAKD,EAAO,iCACpC2C,YAAa,SAAA3C,GAAK,OAAIC,IAAKD,EAAO,2BAIpBG,oBAAQN,EAARM,CACdC,YAAkBC,QAjCC,SAACC,GACpB,IAAMC,EAAUrB,IACRoD,EAAiDhC,EAAjDgC,MAAOM,EAA0CtC,EAA1CsC,UAAWF,EAA+BpC,EAA/BoC,cACpBG,EADmDvC,EAAhBqC,aAExBD,IAAkBI,IAAOF,GAAWG,OAAOC,KAE5D,OACE,gBAACC,EAAA,EAAD,CACEC,UAAU,KACVC,GAAI,CACFf,QAAS,aACT7C,SAAU,WACVD,MAAO,SAGT,gBAAC,IAAS8D,aAAV,iBACM9C,EADN,CAEE0B,UAAWqB,YAAK9C,EAAQe,KAAT,eACZf,EAAQ+B,MAAQA,OAGpBO,GAAqB,gBAAC,EAAD,Y,sECpCtB3D,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkC,KAAM,CACJgC,OAAQlE,EAAMkE,OAAOC,eAEvBC,YAAa,CACX/D,WAAW,0BAAD,OAA4BL,EAAMM,QAAQ+D,OAAOC,mBAAjD,gDAA2GtE,EAAMM,QAAQ+D,OAAOC,mBAAhI,gBAA0JtE,EAAMM,QAAQ+D,OAAOC,mBAA/K,qCACVC,eAAgB,UAChBC,cAAe,YAmDb/D,EAAqBgE,aACzB,SAAA7D,GAAK,OAAIC,IAAKD,EAAO,4BACrB,SAAAA,GAAK,OAAIC,IAAKD,EAAO,+BACrB,SAAC8D,EAAYC,GAAb,MAA2B,CACzBD,WAAW,2BAAMA,GAAP,IAAmBC,iBAKjB5D,oBAAQN,EAARM,CACdC,YAAkBC,QAzDE,SAACC,GACrB,IAAMC,EAAUrB,IAEH8E,EAIT1D,EAJFsC,UACAkB,EAGExD,EAHFwD,WACAG,EAEE3D,EAFF2D,cACGC,EAJL,YAKI5D,EALJ,GAMM6D,EAAWC,wBAiBjB,OACE,gBAAC,IAASC,cAAV,iBACMH,EADN,CAEEtB,UAAWoB,EACXM,GAAIN,EAAWvC,WACf8C,YApBgB,SAAC5D,GACnBA,EAAMC,iBACNuD,EAASK,YAAmBR,KAmB1BS,aAhBiB,SAAC9D,GACpBA,EAAMC,iBACNuD,EAASO,YAAgBV,KAevBtD,UAZc,SAACC,GACjBA,EAAMC,iBACNqD,KAWEjC,UAAWqB,YACT9C,EAAQe,KADK,eAGVf,EAAQiD,aAAemB,YAAa,CACnCX,aACAY,OAAQd,KAGZ7C,a,oDCrDF/B,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCyF,YAAa,CACXvB,OAAQlE,EAAMkE,OAAOwB,UACrB5C,QAAS9C,EAAM+C,QAAQ,GAAK,GAC5BI,gBAAiBnD,EAAMM,QAAQC,QAAQ8C,KACvCsC,MAAO3F,EAAMM,QAAQsF,OAAOC,MAC5B,UAAW,CACT1C,gBAAiBnD,EAAMM,QAAQC,QAAQ8C,OAG3CyC,KAAM,CACJ3C,gBAAiBnD,EAAMM,QAAQsF,OAAOG,UACtCJ,MAAO3F,EAAMM,QAAQC,QAAQyF,KAC7B,UAAW,CACT7C,gBAAiBnD,EAAMM,QAAQsF,OAAOG,YAG1CE,MAAO,CACLC,SAAU,SACVC,WAAY,OACZC,WAAY,SACZC,aAAc,gBAsCZ5F,EAAqBC,YAAyB,CAClD4F,SAAU,SAAA1F,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,gBAG9BG,oBAAQN,EAARM,EAtCI,SAAC,GAIgB,IAHnCuF,EAGkC,EAHlCA,SAEGxB,GAC+B,EAFlCyB,SAEkC,kBAC1BC,EAAS1B,EAAT0B,KACFrF,EAAUrB,IACV2G,GAAWH,EACXI,EAAgBC,YAAkBH,GAChCP,EAAUO,EAAVP,MACAW,EAAgBC,YAAWL,GAA3BI,YACR,OACE,gBAAC,IAAaE,YAAd,iBACMhC,EADN,CAEElC,UAAWqB,YAAK9C,EAAQsE,YAAT,eACZtE,EAAQ2E,KAAOW,GAAWC,MAG5BD,EACC,mCAEA,2BACE,gBAACM,EAAA,EAAD,CAAYC,QAAQ,YAAY7F,QAAS,CAAE8F,KAAM9F,EAAQ8E,QACtDA,GAEH,gBAACc,EAAA,EAAD,CAAYC,QAAQ,aAAaJ,Q,wCC5CrC9G,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkH,QAAS,CACPpE,QAAS9C,EAAM+C,QAAQ,GACvBoE,WAAY,GAEdC,QAAS,CACPC,aAAcrH,EAAM+C,QAAQ,IAE9B+C,KAAM,CACJH,MAAO3F,EAAMM,QAAQC,QAAQyF,UA+D3BvF,EAAqBC,YAAyB,CAClD+F,QAAS,SAAA7F,GAAK,OAAKC,IAAKD,EAAO,CAAC,WAAY,gBAG9BG,oBAAQN,EAARM,EA1DO,SAAC,GAGY,IAFlCuG,EAEiC,EAFjCA,gBACAb,EACiC,EADjCA,QAEMtF,EAAUrB,IAChB,EAAqC+G,YAAWS,GAAxCC,EAAR,EAAQA,YAAaX,EAArB,EAAqBA,YACfY,EAASb,YAAkBW,GACjC,EAAiCG,YAAeH,GAAxCI,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,MAAOC,EAAzB,EAAyBA,IAEzB,OACE,gBAACC,EAAA,EAAD,CAAOjF,UAAWzB,EAAQ+F,SACxB,gBAACH,EAAA,EAAD,CACEC,QAAQ,KACRrB,MAAM,UACN/C,UAAWqB,YAAK9C,EAAQiG,QAAT,eAAqBjG,EAAQ2E,KAAOW,GAAWe,KAE7Df,EAAU,OAASiB,IAEpBjB,GACA,gBAAC5C,EAAA,EAAD,CAAKE,GAAI,CAAE+D,GAAI,EAAG9E,QAAS,OAAQ+E,WAAY,WAC7C,gBAAClE,EAAA,EAAD,CAAKE,GAAI,CAAEiE,GAAI,GAAKhF,QAAS,SAC3B,gBAACiF,EAAA,EAAD,CAAiBC,SAAS,WAE5B,gBAACnB,EAAA,EAAD,CAAYC,QAAQ,MAAMW,KAG5BlB,GAAWmB,GACX,gBAAC/D,EAAA,EAAD,CAAKE,GAAI,CAAE+D,GAAI,EAAG9E,QAAS,OAAQ+E,WAAY,WAC7C,gBAAClE,EAAA,EAAD,CAAKE,GAAI,CAAEiE,GAAI,GAAKhF,QAAS,SAC3B,gBAACmF,EAAA,EAAD,CAAaD,SAAS,WAExB,gBAACnB,EAAA,EAAD,CAAYC,QAAQ,MAAMY,IAG9B,gBAAC/D,EAAA,EAAD,CAAKE,GAAI,CAAE+D,GAAI,EAAG9E,QAAS,OAAQ+E,WAAY,WAC7C,gBAAClE,EAAA,EAAD,CAAKE,GAAI,CAAEiE,GAAI,GAAKhF,QAAS,SAC3B,gBAAC,IAAD,CAAWkF,SAAS,WAEtB,gBAACnB,EAAA,EAAD,CAAYC,QAAQ,MAAMO,IAE5B,gBAAC1D,EAAA,EAAD,CAAKE,GAAI,CAAE+D,GAAI,EAAG9E,QAAS,OAAQ+E,WAAY,WAC7C,gBAAClE,EAAA,EAAD,CAAKE,GAAI,CAAEiE,GAAI,GAAKhF,QAAS,SAC3B,gBAACoF,EAAA,EAAD,CAAgBF,SAAS,WAE3B,gBAACnB,EAAA,EAAD,CAAYC,QAAQ,MAAMJ,Q,UCnD5ByB,EAAqB,CACzBC,mBACAC,kBAGcxH,0BACdyH,EACAH,EAFctH,CAGdC,aA7BsB,SAAC,GAAsC,IAApCsH,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aAWzC,OACE,kBAAC,IAAD,CAAQE,KAAK,mBACX,kBAAC,IAAD,CAAQA,KAAK,gBAAgBC,SAZH,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAE/B,OADAL,EAAeK,GACRA,KAWL,kBAAC,IAAD,CAAQF,KAAK,cAAcC,SARH,SAAC,GAAqB,IAAnBE,EAAkB,EAAlBA,YAE7B,OADAL,EAAaK,GACNA,U,kHCZUC,G,WACnB,aAAe,qBACbC,KAAKC,QAAL,UAAkBC,+BAAlB,YAAgEA,uCAAhE,KACAF,KAAKG,YAAc,K,2CAGrB,WAC2B,OAArBH,KAAKG,aAAsBH,KAAKG,gB,mBAGtC,YAQI,IAPFC,EAOC,EAPDA,OAOC,IANDH,eAMC,MANSD,KAAKC,QAMd,EALDI,EAKC,EALDA,IACA3C,EAIC,EAJDA,KACA4C,EAGC,EAHDA,OAGC,IAFDC,eAEC,MAFS,GAET,MADDC,sBACC,SACKC,EAAOT,KACLU,EAAgBC,KAAhBD,YAER,OAAO,IAAIE,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAU,CACdX,SACAC,MACAJ,UACAe,QAAS,IACTV,SACA5C,OACA6C,QAAQ,2BAAMA,GAAP,IAAgBU,cAAeC,OACtCf,YAAa,IAAIO,GAAY,SAAkBS,GAC7CV,EAAKN,YAAcgB,MAIvBR,KAAMS,QAAQL,GAASM,MACrB,SAAAC,GACE,IAAM5D,EACgB,kBAAb4D,EAAI5D,KAAoB4D,EAAI5D,KAAO6D,KAAKC,MAAMF,EAAI5D,MAE3DmD,EAAQL,EAAiB,CAAE9C,OAAM6C,QAASe,EAAIf,SAAY7C,MAE5D,SAAA+D,GACE,IAAMC,EAAS3J,IAAK0J,EAAO,CAAC,WAAY,WAClCE,EAAU5J,IAAK0J,EAAO,CAAC,WAAY,OAAQ,YAC3CG,EAAS7J,IAAK0J,EAAO,CAAC,WAAY,OAAQ,WAEhDX,EADiB,CAAEY,SAAQC,UAASC,qB,KClC/B,O,wKAbb,YAAgC,IAAfxF,EAAc,EAAdA,GAAIyF,EAAU,EAAVA,OACnB,OAAKzF,EAEE4D,KAAKW,MAAM,CAChBP,OAAQ,MACRC,IAAI,GAAD,OAAKyB,KAAMC,SAAX,YAAuB3F,GAC1BkE,OAAQ,CACNuB,YANY,O,GAFU9B,K,gCCDxBiC,GAAW,SAAAC,GACf,IAAMC,EAAanK,IAAKkK,EAAS,CAAC,WAAY,IAAIE,QAChD,SAAAC,GAAM,MAAoB,UAAhBA,EAAOC,QACjB,GAEF,OAAOtK,IAAKmK,EAAY,SAAU,KAG9BI,GAA0B,SAAAL,GAAO,OAAKA,EAAQM,WAqBvCC,GAAgB,SAAAC,GAAQ,OACnCA,EACGC,KAAI,SAAAT,GACH,OAtBsB,SAAAA,GAC1B,IAAMU,EAAW5K,IAAKkK,EAAS,YACzBW,EAAS7K,IAAKkK,EAAS,UACvBpG,EAAW9D,IAAKkK,EAAS,YAE/B,MAAO,CACL9E,MAAO6E,GAASC,GAChB7F,GAAIrE,IAAKkK,EAAS,MAClBU,WACAjI,UAAWiI,EACXC,SACAC,QAASD,EACTE,SAAU/K,IAAKkK,EAAS,WAAY,IACpCM,UAAWxK,IAAKkK,EAAS,aACzBc,QAAShL,IAAKkK,EAAS,UAAW,IAClCpG,YAOSmH,CAAaf,MAErBE,OAAOG,KCkDG,O,gNA9Eb,kCAAAW,EAAA,6DAAsBC,EAAtB,EAAsBA,UAAWxF,EAAjC,EAAiCA,KAAjC,SACwBsC,KAAKW,MAAM,CAC/BP,OAAQ,OACRC,IAAI,GAAD,OAAKyB,KAAMC,SAAX,YAAuBmB,EAAvB,YAAoCpB,KAAMqB,UAC7C7C,OAAQ,CACNuB,OAAQuB,MAEV1F,KAAK,eACAA,KART,cACQuE,EADR,yBAWSO,GAAc,CAACP,KAXxB,gD,4HAcA,wCAAAgB,EAAA,sDAAuBC,EAAvB,EAAuBA,UAAWxF,EAAlC,EAAkCA,KAC5B2F,EAAM,EACNzB,EAAS,GACTa,EAAW,GAHjB,UAISY,IAAQ3F,EAAK4F,OAJtB,0CAMwBtD,KAAKW,MAAM,CAC3BP,OAAQ,OACRC,IAAI,GAAD,OAAKyB,KAAMC,SAAX,YAAuBmB,EAAvB,YAAoCpB,KAAMqB,UAC7C7C,OAAQ,CAAEuB,OAAQuB,MAClB1F,KAAMA,EAAK2F,KAVnB,OAMY/B,EANZ,OAYMmB,EAASc,KAAKjC,GAZpB,kDAcMM,EAAO2B,KAAK7F,EAAK2F,IAdvB,QAiBIA,GAAY,EAjBhB,gDAmBS,CAAEZ,SAAUD,GAAcC,GAAWb,WAnB9C,0D,yHAsBA,gDAAAqB,EAAA,yDAAoBC,EAApB,EAAoBA,UAAWM,EAA/B,EAA+BA,KAAMC,EAArC,EAAqCA,GAC9BP,EADP,yCACyB,IADzB,OAGMQ,GAAW,EACXC,EAAW,GACXlB,EAAW,GALjB,WAOSiB,EAPT,oBAQiBC,EARjB,kCASc3D,KAAKW,MAAM,CACfP,OAAQ,MACRC,IAAI,GAAD,OAAKyB,KAAMC,SAAX,YAAuBmB,EAAvB,YAAoCpB,KAAMqB,UAC7C7C,OAAQ,CACNuB,OAAQuB,KACRQ,WAAYhJ,IAAO4I,GAAM3I,OAAO,eAElC2F,gBAAgB,IAhB1B,6DAkBcR,KAAKW,MAAM,CACfP,OAAQ,MACRC,IAAKsD,EACLnD,gBAAgB,IArB1B,4BAQUc,EARV,KAwBUuC,EAAU9L,IAAKuJ,EAAK,CAAC,UAAW,QAAS,IAC/CqC,EAAW5L,IAAKyJ,KAAMqC,GAAU,CAAC,OAAQ,OAAQ,IAE3CC,EAAc/L,IAAKuJ,EAAK,CAAC,SAC/BmB,EAAQ,uBAAOA,GAAP,aAAoBqB,IACtBC,EAAoBhM,IACxB+L,EACA,CAACA,EAAYR,OAAS,EAAG,YACzB,IAGFI,EAAWC,GAAY/I,IAAOmJ,GAAmBC,SAASP,GAnC9D,gDAsCSjB,GAAcC,IAtCvB,iD,4DArC4B1C,KC2CfkE,GApCG,SAAC,GAAoC,IAAlCf,EAAiC,EAAjCA,UACbjH,EAAWC,wBACXgI,EAAiBC,uBAAY,SAAArM,GAAK,OACtCC,IAAKD,EAAO,CAAC,WAAY,sBAErB4E,EAASyH,uBAAY,SAAArM,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,cAE7DsM,qBAAU,WAiBR,OAhBAnI,EAASoI,YAAanB,IAEtB,wBAAC,6BAAAD,EAAA,6DACChH,EAASqI,aAAa,IADvB,kBAGsBC,GAAgBC,eAAe,CAChDpI,GAAI8G,EACJrB,OAAQ4C,MALb,OAGS/G,EAHT,OAOGzB,EAASyI,YAAUhH,GAAQ,KAP9B,gDASGzB,EAAS0I,YAAS,EAAD,KATpB,QAWC1I,EAASqI,aAAa,IAXvB,wDAAD,GAcO,WACLC,GAAgBK,YAGjB,CAAC1B,IAEJkB,qBAAU,WACRnI,EAASyI,YAAUhI,MAElB,CAACwH,KCKSW,GA5CS,SAAC,GAAoC,IAAlC3B,EAAiC,EAAjCA,UACnBjH,EAAWC,wBACX4I,EAAcX,uBAAY,SAAArM,GAAK,OACnCC,IAAKD,EAAO,CAAC,WAAY,mBAErBiN,EAAYZ,uBAAY,SAAArM,GAAK,OACjCC,IAAKD,EAAO,CAAC,WAAY,iBAErBkN,EAAeb,uBAAY,SAAArM,GAAK,OACpCC,IAAKD,EAAO,CAAC,WAAY,oBAErBoM,EAAiBC,uBAAY,SAAArM,GAAK,OACtCC,IAAKD,EAAO,CAAC,WAAY,sBAG3BsM,qBAAU,WAiBR,OAhBA,wBAAC,6BAAAnB,EAAA,yDACM8B,EADN,iEAGG9I,EAASqI,aAAa,IAHzB,SAIiCW,GAAgBC,YAAY,CACxDhC,YACAM,KAAMsB,EACNrB,GAAIsB,IAPT,OAISvG,EAJT,OASGvC,EAASkJ,YAAgB3G,IAT5B,kDAWGvC,EAAS0I,YAAS,EAAD,KAXpB,QAaC1I,EAASqI,aAAa,IAbvB,yDAAD,GAgBO,WACLW,GAAgBL,YAGjB,CAACG,EAAW7B,IAEfkB,qBAAU,WACRnI,EAASkJ,YAAgBH,MAExB,CAACd,K,SC5BSkB,GAdE,WACf,IAAM3D,EAAQ0C,uBAAY,SAAArM,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,aAE5DsM,qBAAU,WACR,GAAK3C,EAAL,CAEA,IAAQE,GAAYF,GAAS,IAArBE,QAEJA,GACF0D,UAAO5D,MAAM6D,IAAeC,cAAe5D,MAE5C,CAACF,K,wCCjBO+D,GACH,SADGA,GAED,WAFCA,GAGK,iBCWZC,I,OAAa,mBAChBD,GAAe,IADC,cAEhBA,IAAiB,GAFD,cAGhBA,GAAuB,IAHP,GAMbE,GACG,QADHA,GAEI,SAGGC,GAAwB,SAAC,GACpC,OADsE,EAAhCC,UACrBC,QACf,SAACC,EAAD,OAAQzD,EAAR,EAAQA,KAAM0D,EAAd,EAAcA,KAAd,mBAAC,eAA8BD,GAA/B,kBAAqCzD,EAAOoD,GAAcM,OAC1D,CACEC,qBAAiBtG,KAiCjBuG,GAA0B,SAACL,EAAwBM,GACvD,OAAON,EACJlD,KAAI,gBAAGL,EAAH,EAAGA,KAAH,MAAe,CAAEA,OAAM8D,OAAQD,EAAO7D,OAC1CF,QAAO,qBAAGgE,WAGTC,GAAuB,SAACvO,EAAgBG,GAC5C,IAAQmB,EAAuBtB,EAAvBsB,UAAWkN,EAAYxO,EAAZwO,QACXC,EAAUC,YAAY1O,EAAgBG,GAAtCsO,MACFE,EAAeC,YAAUtN,GACzBuN,EAAaD,YAAUJ,GACvBM,EACJC,KAAKC,KAAKL,EAAeE,GAAc1O,GAAqB,EAC9D,OAAO8O,MAAMtD,KAAKsD,MAAMH,IAAW,SAACI,EAAGC,GAAJ,MAAW,CAC5CC,SAAUrM,IAAO0L,GACdY,IAAIF,EAAIhP,EAAmB,KAC3B6C,OAtEuB,4BA0EjBsM,GAAqB,SAAC,GAIZ,IAHrBtP,EAGoB,EAHpBA,eACAqO,EAEoB,EAFpBA,OACAxJ,EACoB,EADpBA,OAGES,EAGET,EAHFS,MACAyI,EAEElJ,EAFFkJ,UACS5N,EACP0E,EADF0K,MAASpP,kBAEI2H,EAA0BuG,EAAjCmB,MAAarB,EAAoBE,EAApBF,gBAGrB,OAFqBI,GAAqBvO,EAAgBG,GAEtC0K,KAAI,kBAAmB,CACzCuE,SADsB,EAAGA,SAEzB9J,MAAM,GAAD,OAAKwC,EAAL,gBAAiBxC,GACtBmK,UAAW,WACXzL,SAAUjB,IAAO2M,GAAGC,QACpBjF,WAAW,EACXkF,MAAO,EACP3E,SAAU,CAACkD,GACXjD,QAASkD,GAAwBL,EAAWM,QAMnCwB,GAAyB,SACpCC,GAEA,OAAOA,EAAiBC,MACtB,kBAN4B,SAM5B,EAAGjI,KAAgBkI,kBAIVC,GAAwB,SAAC,GAIb,IAHvBjQ,EAGsB,EAHtBA,eACAqO,EAEsB,EAFtBA,OACAxJ,EACsB,EADtBA,OAGEkJ,EAEElJ,EAFFkJ,UACS5N,EACP0E,EADF0K,MAASpP,kBAEH+P,EAA2C7B,EAA3C6B,OAAQC,EAAmC9B,EAAnC8B,WAAYtN,EAAuBwL,EAAvBxL,UAAWmI,EAAYqD,EAAZrD,QACjC8E,EAAmB5P,IAAK2E,EAAQ,iBAAkB,IAClDuL,EAAsBP,GAAuBC,GAC7CO,EAAe9B,GAAqBvO,EAAgBG,GAE1D,IAAK+P,EACH,OAAOG,EAAaxF,KAAI,kBAAmB,CACzCuE,SADsB,EAAGA,SAEzB9J,MA3B0B,OA4B1BmK,UAAW,WACXzL,SAAUjB,IAAO2M,GAAGC,QACpBjF,WAAW,EACXkF,MAAO,EACP3E,SAAU,CAACmF,GACXlF,QAASkD,GAAwBL,EAAWM,OAGhD,IAAMiC,EAAavN,IAAOF,GAEpB0N,EADWxN,IAAOiI,GACFuF,KAAKD,EAAY,OACjCE,EAASL,IAAetC,GAtId,EAsI+C,EAO/D,OALaoB,MAAMtD,KACjBsD,MAAMF,KAAK0B,MAAMF,EAAOC,GAAU,IAClC,SAACtB,EAAGC,GAAJ,OAAUA,EAAIqB,KAGJxC,QAAO,SAACpD,EAAU8F,GAC5B,IAAMC,EAAO5N,IAAOF,GAAWwM,IAAIqB,EAAK,OAClCE,EAAgBP,EAAaxF,KAAI,gBAAGuE,EAAH,EAAGA,SAAH,MAAmB,CACxD9J,MAjD0B,OAkD1B8J,SAAS,GAAD,OAAKuB,EAAK3N,OApJI,cAoJd,YAAyCD,IAAOqM,GAAUpM,OAnJ5C,aAsJtByM,UAAW,WACXzL,SAAUjB,IAAO2M,GAAGC,QACpBjF,WAAW,EACXkF,MAAO,EACP3E,SAAU,CAACmF,GACXlF,QAASkD,GAAwBL,EAAWM,OAE9C,MAAM,GAAN,oBAAWzD,GAAX,aAAwBgG,MACvB,KAGQC,GAAmB,SAACjG,GAC/B,IAAMkG,EAAelG,EAASC,KAAI,SAAAT,GAAO,OAAIA,EAAQgF,YAAU2B,KAAK,MACpE,MAAO,CAAEjH,QAAQ,yBAAD,OAA2BgH,KAGvCE,GAAa,0BCtKb7R,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkH,QAAQ,2BACHlH,EAAM4R,WAAWC,IADf,IAEL/O,QAAS9C,EAAM+C,QAAQ,EAAG,GAC1BI,gBAAiBnD,EAAMM,QAAQD,WAAW2F,KAC1C/C,UAAW,eA2BTxC,GAAqBC,YAAyB,CAClDC,eAAgB,SAAAC,GAAK,OAAIC,IAAKD,EAAO,4BACrCE,kBAAmB,SAAAF,GAAK,OACtBC,IAAKD,EAAO,8CAIAG,qBAAQN,GAARM,CACdC,YAAkBC,QA/BI,SAAC,GAGM,IAF7BN,EAE4B,EAF5BA,eACAG,EAC4B,EAD5BA,kBAEMK,EAAUrB,KAChB,GAAI2B,IAASd,GAAiB,OAAO,4BACrC,IAAQmR,EAASnR,EAATmR,KACR,EAAuBzC,YAAY1O,EAAgBG,GAA3CsO,EAAR,EAAQA,MAAO2C,EAAf,EAAeA,IACTC,EAAepL,YAAYwI,GAC3B6C,EAAarL,YAAYmL,GAE/B,OACE,uBAAKnP,UAAWzB,EAAQ+F,SACtB,gBAACH,EAAA,EAAD,CAAYC,QAAQ,MAAMO,YAAYuK,IACtC,gBAACjO,EAAA,EAAD,CAAKE,GAAI,CAAEmO,GAAI,IACb,gBAACnL,EAAA,EAAD,CAAYC,QAAQ,MACjBgL,EADH,MACoBC,U,4CC1BtBnS,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCmS,MAAO,CACLjS,MAAO,OACPkS,OAAQpS,EAAM+C,QAAQ,EAAG,EAAG,EAAG,IAEjCsP,OAAQ,CACNvP,QAAS9C,EAAM+C,QAAQ,IAAK,GAC5BuP,cAAe,QAEjBC,YAAa,CACXrS,MAAO,OACP8C,QAAS,OACTwP,eAAgB,gBAChBzK,WAAY,UAEd0H,SAAU,CACRzM,QAAS,OACT+E,WAAY,UAEd0K,SAAU,CACR,eAAgB,CACdtP,gBAAiBnD,EAAMM,QAAQC,QAAQ8C,WAShCqP,GAAmB,SAAC,GAEa,IAD5CjC,EAC2C,EAD3CA,iBAEMtP,EAAUrB,KAChB,EAAkC6S,eAA1B3D,EAAR,EAAQA,OAAQ4D,EAAhB,EAAgBA,cACVC,EAAQhS,IAAKmO,EAAQ,uBAAyB,GAEpD9B,qBAAU,WACR,GAAgC,IAA5BuD,EAAiBrE,OAAc,CACjC,IAAO0C,EAAP,aAA0B2B,EAA1B,MACAmC,EAAc,kBAAmB9D,MAGlC,CAAC2B,EAAiBrE,SAOrB,OACE,oCACE,kBAACrF,EAAA,EAAD,CAAYC,QAAQ,MAApB,8BACA,kBAAC8L,GAAA,EAAD,CACEC,YAAY,WACZF,MAAOA,EACPG,WAAS,EACTC,SAZe,SAAC1R,EAAO2R,GAC3B,IAAMC,EAAU1C,EAAiBC,MAAK,SAAA7B,GAAI,OAAIA,EAAK3J,KAAOgO,KAC1DN,EAAc,kBAAmBO,IAW7BhS,QAAS,CAAE8F,KAAM9F,EAAQgR,QAExB1B,EAAiBjF,KAAI,SAAAqD,GAAI,OACxB,kBAACuE,GAAA,EAAD,CACEP,MAAOhE,EAAK3J,GACZ/D,QAAS,CACP8F,KAAM9F,EAAQkR,OACdgB,MAAOlS,EAAQoR,YACfE,SAAUtR,EAAQsR,UAEpBa,IAAKzE,EAAK3J,IAEV,kBAAC6B,EAAA,EAAD,CAAYC,QAAQ,KAAKrB,MAAM,eAC5BkJ,EAAKpG,MAER,kBAAC1B,EAAA,EAAD,CACEC,QAAQ,YACR7F,QAAS,CAAE8F,KAAM9F,EAAQsO,WAEzB,kBAAC,KAAD,CAA0BvH,SAAS,UACnC,kBAACrE,EAAA,EAAD,CAAKE,GAAI,CAAEwP,GAAI,GAAKrB,GAAI,MACrBsB,YAA2B3E,Y,4CC9EtC/O,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCyT,UAAW,CACTC,UAAW1T,EAAM+C,QAAQ,KAE3BsQ,MAAM,aACJ1N,MAAO3F,EAAMM,QAAQC,QAAQoT,MAC1B3T,EAAM4R,WAAWC,IAEtB+B,MAAM,2BACD5T,EAAM4R,WAAWiC,IADjB,IAEH/Q,QAAS9C,EAAM+C,QAAQ,EAAG,WAejB+Q,GAAY,SAAC5S,GACxB,IAAM6S,EAAejU,KAEnB2I,EAQEvH,EARFuH,KACAzB,EAOE9F,EAPF8F,QAFF,EASI9F,EANF8S,mBAHF,MAGgB,GAHhB,EAIEX,EAKEnS,EALFmS,MACAR,EAIE3R,EAJF2R,MACAoB,EAGE/S,EAHF+S,SACAhB,EAEE/R,EAFF+R,SAPF,EASI/R,EADFC,eARF,MAQY,GARZ,EAWA,OACE,kBAAC+S,GAAA,EAAD,CAAaD,SAAUA,GACrB,kBAACE,GAAA,EAAD,CAAWxO,MAAM,YAAY/C,UAAWmR,EAAaV,OAClDA,GAEH,kBAAC,KAAD,CACE5K,KAAMA,EACNzB,QAASA,EACTgN,YAAaA,EACbnB,MAAOA,EACPI,SAAUA,EACV9R,QAAS,CAAE8F,KAAMhD,YAAK8P,EAAaN,UAAWtS,EAAQsS,YACtDW,WAAY,CACVjT,QAAS,CACPyS,MAAO3P,YAAK8P,EAAaH,MAAOzS,EAAQyS,aCvD9C9T,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqU,MAAM,eACDrU,EAAM4R,WAAW0C,c,sBCElBxU,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkH,QAAS,CACP,iDAAkD,CAChDlE,QAAS,SAGbqQ,MAAO,CACL,KAAK,aACH1N,MAAO3F,EAAMM,QAAQC,QAAQoT,MAC1B3T,EAAM4R,WAAWC,KAGxB0C,OAAO,2BACFvU,EAAM4R,WAAWiC,IADhB,IAEJ/Q,QAAS9C,EAAM+C,QAAQ,EAAG,OAE5ByR,KAAK,eACAxU,EAAM4R,WAAWiC,QAeXY,GAAS,SAACvT,GACrB,IAAM6S,EAAejU,KAEnB2I,EAQEvH,EARFuH,KACAoK,EAOE3R,EAPF2R,MACAI,EAME/R,EANF+R,SACAI,EAKEnS,EALFmS,MACArM,EAIE9F,EAJF8F,QACAiN,EAGE/S,EAHF+S,SACApK,EAEE3I,EAFF2I,QAPF,EASI3I,EADFC,eARF,MAQY,GARZ,EAWA,OACE,kBAAC+S,GAAA,EAAD,CAAaD,SAAUA,EAAU9S,QAAS,CAAE8F,KAAM8M,EAAa7M,UAC7D,kBAACiN,GAAA,EAAD,CAAWvR,UAAWmR,EAAaV,OAAQA,GAC3C,kBAAC,KAAD,CACE5K,KAAMA,EACNtH,QAAS,CAAE8F,KAAMhD,YAAK8P,EAAaQ,OAAQpT,EAAQoT,SACnD1B,MAAOA,EACPI,SAAUA,EACVI,MAAM,GACNrM,QAASA,EACT0N,UAAW,CACTC,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdE,mBAAoB,OAGtB,kBAACC,GAAA,EAAD,CACE7T,QAAS,CAAE8F,KAAMhD,YAAK8P,EAAaS,KAAMrT,EAAQqT,OACjD3B,MAAM,IAEN,qCAEDhJ,EAAQ2B,KAAI,SAACyJ,GAAD,OACX,kBAACD,GAAA,EAAD,CACE1B,IAAK2B,EACLpC,MAAOoC,EACP9T,QAAS,CAAE8F,KAAMhD,YAAK8P,EAAaS,KAAMrT,EAAQqT,QAEhDS,S,sBChFPnV,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqT,MAAM,eACDrT,EAAM4R,WAAWiC,IAEtBqB,SAAU,OAaCC,GAAW,SAACjU,GACvB,IAAM6S,EAAejU,KAEnB2I,EAOEvH,EAPFuH,KACAwL,EAME/S,EANF+S,SACAmB,EAKElU,EALFkU,QACAnC,EAIE/R,EAJF+R,SACAI,EAGEnS,EAHFmS,MALF,EAQInS,EAFFyE,aANF,MAMU,UANV,IAQIzE,EADFC,eAPF,MAOY,GAPZ,EASA,OACE,kBAAC+S,GAAA,EAAD,CAAaD,SAAUA,GACrB,kBAACoB,GAAA,EAAD,CACElU,QAAS,CAAEkS,MAAOpP,YAAK8P,EAAaV,MAAOlS,EAAQkS,QACnDiC,QACE,kBAAC,KAAD,CACEnU,QAAS,CAAE8F,KAAMhD,YAAK8P,EAAamB,SAAU/T,EAAQ+T,WACrDE,QAASA,EACTnC,SAAUA,EACVxK,KAAMA,EACN9C,MAAOA,IAGX0N,MAAOA,MC5CTvT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqU,MAAM,eACDrU,EAAM4R,WAAW0C,cCDlBiB,IAAU,mBACbjH,IJQwB,SAAC,GAA8C,IAA5CkH,EAA2C,EAA3CA,SACtBrU,EAAUrB,KACRqL,EAAkCqK,EAAlCrK,KAAMsK,EAA4BD,EAA5BC,OAAQpB,EAAoBmB,EAApBnB,MAAOJ,EAAauB,EAAbvB,SAC7B,EAAiCtB,eAAzB3D,EAAR,EAAQA,OAAQ0G,EAAhB,EAAgBA,aAEhB,OACE,kBAAC7R,EAAA,EAAD,CAAKE,GAAI,CAAEf,QAAS,OAAQ2S,cAAe,SAAUC,GAAI,IACvD,kBAAC,GAAD,CACEnN,KAAM0C,EACNnE,QAAQ,WACRgN,YAAY,GACZX,MAAOoC,EACP5C,MAAO7D,EAAO7D,GACd8H,SAAUyC,EACVzB,SAAUA,IAEX4B,QAAQxB,IACP,kBAACyB,GAAA,EAAD,CAAgBlT,UAAWzB,EAAQkT,OAAQA,OI1BnC,cAEb/F,IDO0B,SAAC,GAA8C,IAA5CkH,EAA2C,EAA3CA,SACxBrU,EAAUrB,KACRuU,EAAkCmB,EAAlCnB,MAAOoB,EAA2BD,EAA3BC,OAAQxB,EAAmBuB,EAAnBvB,SAAU9I,EAASqK,EAATrK,KACjC,EAAiCwH,eAAzB3D,EAAR,EAAQA,OAAQ0G,EAAhB,EAAgBA,aAEhB,OACE,kBAAC7R,EAAA,EAAD,CAAKE,GAAI,CAAEf,QAAS,OAAQ2S,cAAe,SAAUC,GAAI,IACvD,kBAAC,GAAD,CACER,QAASpG,EAAO7D,GAChB8H,SAAUyC,EACVjN,KAAM0C,EACNxF,MAAM,UACN0N,MAAOoC,EACPxB,SAAUA,IAEX4B,QAAQxB,IACP,kBAACyB,GAAA,EAAD,CAAgBlT,UAAWzB,EAAQkT,OAAQA,OCzBnC,cAGb/F,ICA0B,SAAC,GAA8C,IAA5CkH,EAA2C,EAA3CA,SACtBrK,EAAgDqK,EAAhDrK,KAAMkJ,EAA0CmB,EAA1CnB,MAAOoB,EAAmCD,EAAnCC,OAAQxB,EAA2BuB,EAA3BvB,SAA7B,EAAwDuB,EAAjB3L,eAAvC,MAAiD,GAAjD,EACA,EAAiC8I,eAAzB3D,EAAR,EAAQA,OAAQ0G,EAAhB,EAAgBA,aAEhB,OACE,kBAAC7R,EAAA,EAAD,CAAKE,GAAI,CAAEf,QAAS,OAAQ2S,cAAe,SAAUC,GAAI,IACvD,kBAAC,GAAD,CACEnN,KAAM0C,EACN0H,MAAO7D,EAAO7D,GACd8H,SAAUyC,EACVrC,MAAOoC,EACPzO,QAAQ,WACRiN,SAAUA,EACVpK,QAASA,IAEVgM,QAAQxB,IAAU,kBAACxQ,EAAA,EAAD,CAAKE,GAAI,CAAEmO,GAAI,IAAMmC,ODlB9B,GAUH0B,GAAS,SAAC,GAEuB,IAD5CrH,EAC2C,EAD3CA,UAEA,OACE,oCACGA,EAAUlD,KAAI,SAAAgK,GACb,IAAMQ,EAAYT,GAAWC,EAAS3G,MACtC,OAAOmH,EACL,kBAACA,EAAD,CAAW1C,IAAKkC,EAASrK,KAAMqK,SAAUA,IAEzC,0C,mBEvBJ1V,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqS,OAAQ,CACNqB,UAAW1T,EAAM+C,QAAQ,GACzBD,QAAS9C,EAAM+C,QAAQ,QASdkT,GAAe,SAAC,GAAqC,IAAnCvH,EAAkC,EAAlCA,UAAWwH,EAAuB,EAAvBA,UAClC/U,EAAUrB,KAEVqW,EV8JwB,SAC9BzH,EACAM,GAEA,IAAQF,EAAkCE,EAAlCF,gBAAwBnH,EAAUqH,EAAjBoH,MACzB,QAAKtH,KACkBJ,EAAU2H,MAC/B,gBAAGlL,EAAH,EAAGA,KAAH,SAAS8I,WAA4BjF,EAAO7D,OAGvC,IAAImL,OAAO3E,IAAY4E,KAAK5O,IUxKb6O,CAAiB9H,EADpBiE,eAAX3D,QAGR,OACE,gBAACyH,GAAA,EAAD,CACE5H,KAAK,SACLlJ,MAAM,UACN+Q,kBAAgB,EAChBC,WAAS,EACT3P,QAAQ,YACR4P,SAAUV,IAAcC,EACxBhV,QAAS,CAAE8F,KAAM9F,EAAQkR,SAP3B,oBC8DE5R,GAAqBC,YAAyB,CAClDsL,UAAW,SAAApL,GAAK,OAAIC,IAAKD,EAAO,uBAChC4E,OAAQ,SAAA5E,GAAK,OAAIC,IAAKD,EAAO,oBAC7BsV,UAAW,SAAAtV,GAAK,OAAIC,IAAKD,EAAO,uBAChCD,eAAgB,SAAAC,GAAK,OAAIC,IAAKD,EAAO,8BAGjCyH,GAAqB,CACzB+E,iBACAK,aACAoJ,qBAMc9V,qBACdN,GACA4H,GAFctH,CAGdC,aAvEkB,SAAC,GASc,IARjCgL,EAQgC,EARhCA,UACAxG,EAOgC,EAPhCA,OACA7E,EAMgC,EANhCA,eACAyM,EAKgC,EALhCA,aACAK,EAIgC,EAJhCA,SACAoJ,EAGgC,EAHhCA,gBACAC,EAEgC,EAFhCA,OACAZ,EACgC,EADhCA,UAEMxH,EAAY7N,IAAK2E,EAAQ,YAAa,IAEtCuR,EADmBlW,IAAK2E,EAAQ,iBAAkB,IACTyF,QAC7C,SAAAxF,GAAW,OAAIA,EAAYgD,KAAKkI,gBAAkBqG,QAE9CC,EAAgBxI,GAAsB,CAAEC,YAAW/N,mBAEnDuW,EAAQ,yCAAG,WAAOlI,GAAP,sBAAAjD,EAAA,sEAEbqB,GAAa,GACP5G,EAAOyJ,GAAmB,CAAEtP,iBAAgBqO,SAAQxJ,WAH7C,SAIsBuI,GAAgBoJ,eAAe,CAChEnL,YACAxF,SANW,gBAIL+E,EAJK,EAILA,SAAUb,EAJL,EAIKA,OAIbjJ,IAASiJ,IAAS+C,EAAS+D,GAAiB9G,IACjDmM,EAAgBtL,GAChBuL,IACA1J,GAAa,GAXA,kDAabA,GAAa,GACbK,EAAS,EAAD,IAdK,0DAAH,sDAkBd,OACE,kBAAC5J,EAAA,EAAD,CAAKE,GAAI,CAAEf,QAAS,OAAQ2S,cAAe,WACzC,kBAAC,KAAD,CAAQsB,cAAeA,EAAeC,SAAUA,GAC9C,kBAAC,KAAD,KACE,kBAAC,GAAD,CAAkBzG,iBAAkBsG,IACpC,kBAAC,GAAD,MACA,kBAACK,GAAA,EAAD,MACA,kBAACvT,EAAA,EAAD,CAAKE,GAAI,CAAEmO,GAAI,IACb,kBAAC,GAAD,CAAQxD,UAAWA,KAErB,kBAAC,GAAD,CAAcA,UAAWA,EAAWwH,UAAWA,W,wFCzDnDpW,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqX,QAAQ,eACHrX,EAAM4R,WAAWiC,QAIXyD,GAAgB,WAC3B,IAAMnW,EAAUrB,KAChB,EAAgD6S,eAAxC3D,EAAR,EAAQA,OAAQ0G,EAAhB,EAAgBA,aAAc9C,EAA9B,EAA8BA,cAExB2E,EAAmB,SAACC,GAAD,OAAmB,SAAC1F,GAC3Cc,EAAc4E,EAAO9T,IAAOoO,GAAMnO,OZrBJ,iBYwBhC,OACE,6BACE,kBAAC0R,GAAA,EAAD,CACEC,QACE,kBAACmC,GAAA,EAAD,CACEhP,KAAK,SACL2M,QAASpG,EAAO6B,OAChBoC,SAAUyC,EACV/P,MAAM,YAGV0N,MAAM,WAGR,kBAACqE,GAAA,EAAD,CAAUC,GAAI3I,EAAO6B,QACnB,6BACE,kBAAC+G,GAAA,EAAD,CACEnP,KAAK,aACLoK,MAAO7D,EAAO8B,WACdmC,SAAUyC,GAEV,kBAACL,GAAA,EAAD,CACExC,MAAM,QACNyC,QAAS,kBAACuC,GAAA,EAAD,CAAOlS,MAAM,YACtB0N,MAAM,UAER,kBAACgC,GAAA,EAAD,CACExC,MAAM,SACNyC,QAAS,kBAACuC,GAAA,EAAD,CAAOlS,MAAM,YACtB0N,MAAM,aAIZ,kBAACyE,GAAA,EAAD,CAAMC,WAAS,EAACvF,eAAe,iBAC7B,kBAAC,KAAD,CAAyBwF,MAAOC,MAC9B,kBAAC,KAAD,CACEjR,QAAQ,SACRkR,aAAa,WACbvU,OZ9DoB,aY+DpByO,OAAO,SACPiB,MAAM,aACNR,MAAO,IAAIsF,KAAKnJ,EAAOxL,WACvByP,SAAUsE,EAAiB,aAC3Ba,aAAc,CACZjX,QAAS,CAAE8F,KAAM9F,EAAQkW,SACzBnS,GAAIlD,OAGR,kBAAC,KAAD,CACEgF,QAAQ,SACRkR,aAAa,WACbvU,OZ3EoB,aY4EpByO,OAAO,SACPiB,MAAM,WACNR,MAAO,IAAIsF,KAAKnJ,EAAOrD,SACvBsH,SAAUsE,EAAiB,WAC3Ba,aAAc,CACZjX,QAAS,CAAE8F,KAAM9F,EAAQkW,SACzBnS,GAAIlD,YCHdvB,GAAqBC,YAAyB,CAClDsL,UAAW,SAAApL,GAAK,OAAIC,IAAKD,EAAO,uBAChC4E,OAAQ,SAAA5E,GAAK,OAAIC,IAAKD,EAAO,oBAC7B0F,SAAU,SAAA1F,GAAK,OAAIC,IAAKD,EAAO,sBAC/BsV,UAAW,SAAAtV,GAAK,OAAIC,IAAKD,EAAO,uBAChCD,eAAgB,SAAAC,GAAK,OAAIC,IAAKD,EAAO,8BAGjCyH,GAAqB,CACzB+E,iBACAK,aACAoJ,qBAMc9V,qBACdN,GACA4H,GAFctH,CAGdC,aA7EwB,SAAC,GAUQ,IATjCgL,EASgC,EAThCA,UACAxG,EAQgC,EARhCA,OACA7E,EAOgC,EAPhCA,eACAyM,EAMgC,EANhCA,aACAK,EAKgC,EALhCA,SACAoJ,EAIgC,EAJhCA,gBACAvQ,EAGgC,EAHhCA,SACAwQ,EAEgC,EAFhCA,OACAZ,EACgC,EADhCA,UAEA,GAAIzU,IAASd,GAAiB,OAAO,kBAACkD,EAAA,EAAD,MACrC,IAAM6K,EAAY7N,IAAK2E,EAAQ,YAAa,IAEtCyR,Ebb4B,SAAC,GAId,IAHrB3Q,EAGoB,EAHpBA,SACA3F,EAEoB,EAFpBA,eACA6E,EACoB,EADpBA,OAGEkJ,EAEElJ,EAFFkJ,UACS5N,EACP0E,EADF0K,MAASpP,kBAGLgR,EADYzC,YAAY1O,EAAgBG,GAAtCsO,MACWzL,OAjCa,cAkC1B8M,EAAmB5P,IAAK2E,EAAQ,iBAAkB,IAClDuL,EAAsBP,GAAuBC,GAC7C4H,EAAUxX,IAAKyF,EAAU,2BAA4B,IACrDqB,EAAQ9G,IAAKyX,KAAM,CAAC,OAAQ,aAAc,SAAU,IAC1D,OAAO,2BACF7J,GAAsB,CAAEC,eAD7B,IAEEI,gBAAiBiC,EACjBZ,MAAOkI,EACPjC,MAAOzO,EACP4Q,IAAK,IACL1H,QAAQ,EACRC,WAAYtC,GACZhL,UAAWsO,EACXnG,QAASmG,IaXW0G,CAAqB,CACzClS,WACA3F,iBACA6E,WAGI0R,EAAQ,yCAAG,WAAOlI,GAAP,sBAAAjD,EAAA,sEAEbqB,GAAa,GACP5G,EAAOoK,GAAsB,CAAEjQ,iBAAgBqO,SAAQxJ,WAHhD,SAIsBuI,GAAgBoJ,eAAe,CAChEnL,YACAxF,SANW,gBAIL+E,EAJK,EAILA,SAAUb,EAJL,EAIKA,OAIbjJ,IAASiJ,IAAS+C,EAAS+D,GAAiB9G,IACjDmM,EAAgBtL,GAChBuL,IACA1J,GAAa,GAXA,kDAabA,GAAa,GACbK,EAAS,EAAD,IAdK,0DAAH,sDAkBd,OACE,kBAAC5J,EAAA,EAAD,CAAKE,GAAI,CAAEf,QAAS,OAAQ2S,cAAe,WACzC,kBAAC,KAAD,CAAQsB,cAAeA,EAAeC,SAAUA,GAC9C,kBAAC,KAAD,KACE,kBAACrT,EAAA,EAAD,CAAKE,GAAI,CAAE+D,GAAI,IACb,kBAACf,EAAA,EAAD,CAAYC,QAAQ,MAApB,0BAEF,kBAAC,GAAD,MACA,kBAACoQ,GAAA,EAAD,MACA,kBAACvT,EAAA,EAAD,CAAKE,GAAI,CAAE6R,GAAI,IACb,kBAAC,GAAD,OAEF,kBAAC,GAAD,CAAclH,UAAWA,EAAWwH,UAAWA,WCnEnDzV,GAAqBC,YAAyB,CAClD4F,SAAU,SAAA1F,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,gBAG9BG,qBAAQN,GAARM,CACdC,aAZyB,SAACE,GAC1B,IAAQoG,EAAsCpG,EAAtCoG,gBAAiBhB,EAAqBpF,EAArBoF,SAAUwQ,EAAW5V,EAAX4V,OAC7B2B,EAAgBnS,EAAWoS,GAAoBC,GAErD,OAAO,gBAACF,EAAD,CAAenR,gBAAiBA,EAAiBwP,OAAQA,Q,2GCT5DhX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC4Y,OAAQ,CACNvY,WAAYL,EAAMM,QAAQsF,OAAOC,OAEnCgT,QAAS,CACP/V,QAAS9C,EAAM+C,QAAQ,GACvB7C,MAAO,OACP4Y,SAAU,QACV5S,SAAU,OACV6S,UAAW,YAIFC,GAAS,SAAC9X,GACrB,IACwB+X,EAMpB/X,EANFgY,qBACwBC,EAKtBjY,EALFkY,uBAC2BC,EAIzBnY,EAJFoY,0BAEA/S,GAEErF,EAHFqY,aAGErY,EAFFqF,UACGzB,EANL,YAOI5D,EAPJ,IASMC,EAAUrB,KAEhB,OACE,uCAAK8C,UAAWzB,EAAQyX,QAAY9T,GAClC,kBAACqU,EAAD,MACA,yBAAKvW,UAAWzB,EAAQ0X,SACtB,kBAACI,EAAD,MACA,kBAACI,EAAD,OAED9S,ICjCM4S,GAAgB,SAACjY,GAC5B,IAAQsY,EAA+CtY,EAA/CsY,oBAAqBC,EAA0BvY,EAA1BuY,SAAUC,EAAgBxY,EAAhBwY,YAUvC,OARAxM,qBAAU,WACJuM,IACFD,IACAE,GAAY,MAGb,CAACD,IAEG,+B,6ECJH3Z,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCiH,KAAM,CACJjE,QAAS,OACT+E,WAAY,SACZyK,eAAgB,cAIPmH,GAAU,SAAC,GAMoB,IAL1CpT,EAKyC,EALzCA,SACAqT,EAIyC,EAJzCA,QACAhX,EAGyC,EAHzCA,UACAiX,EAEyC,EAFzCA,OACG/U,EACsC,kBACnC3D,EAAUrB,KACViF,EAAWC,wBAOjB,OACE,gBAAC8U,GAAA,EAAD,eACE5U,GAAInD,IACJa,UAAWqB,YAAK9C,EAAQ8F,KAAMrE,GAC9BmX,QATY,WACdF,IACA9U,EAASiV,gBAQPC,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbtQ,QAAS,KAEXuQ,KAAMT,EACN5S,QAAQ,YACRsT,OAAO,QACHxV,GAEJ,gBAACyV,GAAA,EAAD,CAAM5C,GAAIiC,GACR,2BAAMrT,MCtCDiU,GAAkB,WAC7B,MAAgCC,oBAAS,GAAzC,oBAAOhB,EAAP,KAAiBC,EAAjB,KACM3U,EAAWC,wBACX8R,EAAS,WACb4C,GAAY,GACZ3U,EAASiV,gBAGLU,EAAuBC,YAAa1B,IAAa,iBAAO,CAC5DnC,aAGI8D,EAAyBD,YAAaxB,IAAe,iBAAO,CAChEM,WACAC,kBAGF,OACE,kBAAC,IAAD,CACEmB,gBAAiB7B,GACjBE,qBAAsBwB,EACtBtB,uBAAwBwB,EACxBE,iBAAkBnB,M,kCC9BXoB,GAAuB,SAAC,GAAuC,IAArClY,EAAoC,EAApCA,MAAO0D,EAA6B,EAA7BA,SAAazB,EAAgB,kBACnE9E,EAAQgb,eACd,OACE,qCAAKnY,MAAK,2BAAOA,GAAP,IAAcqB,OAAQlE,EAAMkE,OAAO+W,UAAcnW,GACxDyB,I,4CCqDS2U,mBAjDE,WAChB,IAAMC,EAA2BzX,IAAO2M,GAAG+K,QAC3C,EAAoCX,mBAAS,IAA7C,oBAAOY,EAAP,KAAmBC,EAAnB,KACMvW,EAAWC,wBACXgI,EAAiBC,uBAAY,SAAArM,GAAK,OACtCC,IAAKD,EAAO,CAAC,WAAY,sBAG3B,OACE,kBAACiD,EAAA,EAAD,CAAKE,GAAI,CAAEwX,EAAG,GAAKxT,WAAW,SAAS/E,QAAQ,QAC7C,kBAACa,EAAA,EAAD,CAAKE,GAAI,CAAE7D,MAAO,CAAEsb,GAAI,OAAQC,GAAI,SAClC,kBAACC,GAAA,EAAD,CACE7R,QAASsR,EACTtI,MAAO7F,EACPiG,SAAU,SAAC1R,EAAYoa,GACjBA,GACF5W,EAAS6W,YAAkBD,KAG/BE,eAAgB,SAAA5G,GAAM,OAAIA,GAC1BoG,WAAYA,EACZS,cAAe,SAACva,EAAOwa,GACrBT,EAAcS,IAEhBC,YAAa,SAAA5S,GAAM,OACjB,kBAAC,KAAD,iBACMA,EADN,CAEEpC,QAAQ,WACRoN,WAAU,2BACLhL,EAAOgL,YADF,IAER6H,eACE,oCACE,kBAACC,GAAA,EAAD,CAAgB/b,SAAS,SACvB,kBAAC,KAAD,OAEDiJ,EAAOgL,WAAW6H,6BCXjCnc,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC+X,UAAW,CACToE,UAAW,QACXC,WAAYpc,EAAM4R,WAAWwK,WAAWC,UAE1CC,QAAS,CACPC,OAAQ,oBACRpZ,gBAAiBnD,EAAMM,QAAQsF,OAAOC,WAqEpCpF,GAAqBC,YAAyB,CAClD8E,OAAQ,SAAA5E,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,YAC1CsV,UAAW,SAAAtV,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,eAC7CkN,aAAc,SAAAlN,GAAK,OAAIC,IAAKD,EAAO,CAAC,WAAY,oBAGlCG,4BACdN,QACA+H,EAFczH,CAGdC,aAnEe,SAAC,GAK8B,IAJ9CwE,EAI6C,EAJ7CA,OACAwG,EAG6C,EAH7CA,UACAkK,EAE6C,EAF7CA,UACApI,EAC6C,EAD7CA,aAEM3M,EAAUrB,KAEhBiN,GAAU,CAAEf,cACZ2B,GAAgB,CAAE3B,cAClBkC,KAIA,OAAIzM,IAAS+D,KAAY0Q,EAAkB,qCAGzC,kBAAC,KAAD,CACEsG,IAAI,MACJC,SAAUvG,EACVwG,OAAQ,kBAAC,UAAD,CAAQC,QAAM,EAAC9N,KAAK,aAAalJ,MAAM,sBAC/C/C,UAAWqB,YAAK9C,EAAQ4W,UAAT,eACZ5W,EAAQmb,QAAUpG,KAGrB,kBAACrO,EAAA,EAAD,CAAO+U,UAAW,GAChB,kBAACC,GAAD,MACA,kBAAC,IAAD,CAAWrW,KAAMsH,GACf,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEgP,uBAAwB7X,EACxB8X,sBAAuB/Y,EACvBgZ,aACEnc,IAAK2E,EAAQ,4BAA8ByX,MAG/C,kBAAC,IAAD,CAAcC,gBAxBE,eAyBhB,kBAAC,GAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEC,qBAAsBrW,EACtBsW,mBAAoBrC,KAEtB,kBAAC,IAAD,CACEsC,iBAAe,EACfC,iBAAkBC,IAEpB,kBAAC,GAAD","file":"static/js/14.46d4a46c.chunk.js","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport {\n  CELL_CLASS,\n  DATE_PICKER_ID,\n  getCellsProp,\n  isElementContains,\n  OVERLAY_ID,\n} from './helpers';\nimport _isEmpty from 'lodash/isEmpty';\n\nconst useStyles = makeStyles(theme => ({\n  cells: {\n    width: '100%',\n    position: 'absolute',\n    left: 0,\n    background: theme.palette.primary.light,\n  },\n}));\n\ntype Props = {\n  selectingCells: Object,\n  slotLengthMinutes: number,\n};\n\nconst SelectedCells = (\n  props: Props,\n): React.Element<'div' | typeof React.Fragment> => {\n  const classes = useStyles();\n  const { selectingCells, slotLengthMinutes } = props;\n  const cellsProps = getCellsProp(selectingCells, slotLengthMinutes);\n\n  const onMouseUp = event => {\n    event.preventDefault();\n    if (_isEmpty(selectingCells)) return;\n\n    const { target } = event;\n    if (target.classList.contains(CELL_CLASS)) return;\n    if (isElementContains(OVERLAY_ID, target)) return;\n    if (isElementContains(DATE_PICKER_ID, target)) return;\n\n    const { startCell } = selectingCells;\n    const cell = document.getElementById(startCell.toString());\n    if (cell) {\n      cell.dispatchEvent(new Event('mouseup', { bubbles: true }));\n    }\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <div className={classes.cells} style={cellsProps}></div>;\n};\n\nconst structuredSelector = createStructuredSelector({\n  selectingCells: state => _get(state, 'calendar.selectingCells'),\n  slotLengthMinutes: state =>\n    _get(state, 'calendar.config.times.slotLengthMinutes'),\n});\n\ntype PropsWithoutRedux = {};\nexport default (connect(structuredSelector)(\n  withErrorBoundary(React.memo(SelectedCells)),\n): React.AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport * as React from 'react';\nimport { WeekView } from '@devexpress/dx-react-scheduler-material-ui';\nimport { makeStyles, alpha } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport SelectedCells from './SelectedCells';\nimport { Box } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport moment from 'moment';\nimport { DATE_FORMAT } from './helpers';\n\nconst useStyles = makeStyles(theme => ({\n  cell: {\n    '&&': {\n      padding: theme.spacing(1, 0),\n      width: '100%',\n      display: 'block',\n      textAlign: 'center',\n    },\n  },\n  today: {\n    backgroundColor: alpha(theme.palette.primary.main, 0.16),\n  },\n}));\n\nconst DayScaleCell = (props: Object): React.Element<typeof React.Fragment> => {\n  const classes = useStyles();\n  const { today, startDate, selectingDate, isSelecting } = props;\n  const hasSelectingCells =\n    isSelecting && selectingDate === moment(startDate).format(DATE_FORMAT);\n\n  return (\n    <Box\n      component=\"td\"\n      sx={{\n        display: 'table-cell',\n        position: 'relative',\n        width: '100%',\n      }}\n    >\n      <WeekView.DayScaleCell\n        {...props}\n        className={clsx(classes.cell, {\n          [classes.today]: today,\n        })}\n      ></WeekView.DayScaleCell>\n      {hasSelectingCells && <SelectedCells />}\n    </Box>\n  );\n};\n\nconst structuredSelector = createStructuredSelector({\n  selectingDate: state => _get(state, 'calendar.selectingCells.date'),\n  isSelecting: state => _get(state, 'calendar.isSelecting'),\n});\n\ntype PropsWithoutRedux = { date: Date };\nexport default (connect(structuredSelector)(\n  withErrorBoundary(React.memo(DayScaleCell)),\n): React.AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport * as React from 'react';\nimport { WeekView } from '@devexpress/dx-react-scheduler-material-ui';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport { CELL_CLASS, isCellActive } from './helpers';\nimport { beginSelectingCell, addSelectedCell } from './redux/Actions';\nimport { useDispatch } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  cell: {\n    zIndex: theme.zIndex.mobileStepper,\n  },\n  disableCell: {\n    background: `linear-gradient(-45deg,${theme.palette.action.disabledBackground} 10%,transparent 10%,transparent 50%,${theme.palette.action.disabledBackground} 50%,${theme.palette.action.disabledBackground} 60%,transparent 60%,transparent)`,\n    backgroundSize: '8px 8px',\n    pointerEvents: 'none',\n  },\n}));\n\nconst TimeTableCell = (props: Object): React.Element<'div'> => {\n  const classes = useStyles();\n  const {\n    startDate: dateString,\n    timeConfig,\n    onDoubleClick,\n    ...restProps\n  } = props;\n  const dispatch = useDispatch();\n\n  const onMouseDown = (event: MouseEvent) => {\n    event.preventDefault();\n    dispatch(beginSelectingCell(dateString));\n  };\n\n  const onMouseEnter = (event: MouseEvent) => {\n    event.preventDefault();\n    dispatch(addSelectedCell(dateString));\n  };\n\n  const onMouseUp = (event: MouseEvent) => {\n    event.preventDefault();\n    onDoubleClick();\n  };\n\n  return (\n    <WeekView.TimeTableCell\n      {...restProps}\n      startDate={dateString}\n      id={dateString.toString()}\n      onMouseDown={onMouseDown}\n      onMouseEnter={onMouseEnter}\n      onMouseUp={onMouseUp}\n      className={clsx(\n        classes.cell,\n        {\n          [classes.disableCell]: !isCellActive({\n            dateString,\n            config: timeConfig,\n          }),\n        },\n        CELL_CLASS,\n      )}\n    />\n  );\n};\n\nconst structuredSelector = createSelector(\n  state => _get(state, 'calendar.config.times'),\n  state => _get(state, 'calendar.config.timeZone'),\n  (timeConfig, timeZone) => ({\n    timeConfig: { ...timeConfig, timeZone },\n  }),\n);\n\ntype PropsWithoutRedux = {};\nexport default (connect(structuredSelector)(\n  withErrorBoundary(React.memo(TimeTableCell)),\n): React.AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport * as React from 'react';\nimport type { AbstractComponent } from 'react';\nimport { Appointments } from '@devexpress/dx-react-scheduler-material-ui';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { formatTime, isBusyAppointment } from './helpers';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash.get';\nimport { connect } from 'react-redux';\nimport { Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  appointment: {\n    zIndex: theme.zIndex.speedDial,\n    padding: theme.spacing(0.5, 1),\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n    '&:hover': {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  busy: {\n    backgroundColor: theme.palette.common.lightGray,\n    color: theme.palette.primary.gray,\n    '&:hover': {\n      backgroundColor: theme.palette.common.lightGray,\n    },\n  },\n  title: {\n    overflow: 'hidden',\n    fontWeight: 'bold',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n}));\n\nconst Appointment = ({\n  property,\n  children,\n  ...restProps\n}: Object): React.Element<'div'> => {\n  const { data } = restProps;\n  const classes = useStyles();\n  const isBuyer = !property;\n  const isBusyBooking = isBusyAppointment(data);\n  const { title } = data;\n  const { displayTime } = formatTime(data);\n  return (\n    <Appointments.Appointment\n      {...restProps}\n      className={clsx(classes.appointment, {\n        [classes.busy]: isBuyer || isBusyBooking,\n      })}\n    >\n      {isBuyer ? (\n        <div>Busy</div>\n      ) : (\n        <div>\n          <Typography variant=\"subtitle1\" classes={{ root: classes.title }}>\n            {title}\n          </Typography>\n          <Typography variant=\"subtitle1\">{displayTime}</Typography>\n        </div>\n      )}\n    </Appointments.Appointment>\n  );\n};\n\ntype PropsWithoutRedux = {};\n\nconst structuredSelector = createStructuredSelector({\n  property: state => _get(state, ['calendar', 'property']),\n});\n\nexport default (connect(structuredSelector)(\n  Appointment,\n): AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport * as React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport _get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { formatTime, getBookingInfo, isBusyAppointment } from './helpers';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  AccessTime as AccessTimeIcon,\n  Event as EventIcon,\n  MailOutline as MailOutlineIcon,\n  Dialpad as DialpadIcon,\n} from '@material-ui/icons';\nimport { Box } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n  },\n  section: {\n    marginBottom: theme.spacing(1),\n  },\n  busy: {\n    color: theme.palette.primary.gray,\n  },\n}));\n\ntype Props = {\n  appointmentData: Object,\n  isBuyer: boolean,\n};\n\nconst TooltipContent = ({\n  appointmentData,\n  isBuyer,\n}: Props): React.Element<'div'> => {\n  const classes = useStyles();\n  const { displayDate, displayTime } = formatTime(appointmentData);\n  const isBusy = isBusyAppointment(appointmentData);\n  const { fullName, email, dre } = getBookingInfo(appointmentData);\n\n  return (\n    <Paper className={classes.wrapper}>\n      <Typography\n        variant=\"h4\"\n        color=\"primary\"\n        className={clsx(classes.section, { [classes.busy]: isBuyer || isBusy })}\n      >\n        {isBuyer ? 'Busy' : fullName}\n      </Typography>\n      {!isBuyer && (\n        <Box sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>\n          <Box sx={{ mr: 0.5, display: 'flex' }}>\n            <MailOutlineIcon fontSize=\"small\" />\n          </Box>\n          <Typography variant=\"h5\">{email}</Typography>\n        </Box>\n      )}\n      {!isBuyer && dre && (\n        <Box sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>\n          <Box sx={{ mr: 0.5, display: 'flex' }}>\n            <DialpadIcon fontSize=\"small\" />\n          </Box>\n          <Typography variant=\"h5\">{dre}</Typography>\n        </Box>\n      )}\n      <Box sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ mr: 0.5, display: 'flex' }}>\n          <EventIcon fontSize=\"small\" />\n        </Box>\n        <Typography variant=\"h5\">{displayDate}</Typography>\n      </Box>\n      <Box sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ mr: 0.5, display: 'flex' }}>\n          <AccessTimeIcon fontSize=\"small\" />\n        </Box>\n        <Typography variant=\"h5\">{displayTime}</Typography>\n      </Box>\n    </Paper>\n  );\n};\n\ntype PropsWithoutRedux = {\n  appointmentData: Object,\n};\n\nconst structuredSelector = createStructuredSelector({\n  isBuyer: state => !_get(state, ['calendar', 'property']),\n});\n\nexport default (connect(structuredSelector)(\n  TooltipContent,\n): React.AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport React from 'react';\nimport type { AbstractComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport { setEndOfWeek, setStartOfWeek } from './redux/Actions';\nimport { Plugin, Getter } from '@devexpress/dx-react-core';\n\nconst IntegratedDates = ({ setStartOfWeek, setEndOfWeek }) => {\n  const startViewDateComputed = ({ startViewDate }) => {\n    setStartOfWeek(startViewDate);\n    return startViewDate;\n  };\n\n  const endViewDateComputed = ({ endViewDate }) => {\n    setEndOfWeek(endViewDate);\n    return endViewDate;\n  };\n\n  return (\n    <Plugin name=\"IntegratedDates\">\n      <Getter name=\"startViewDate\" computed={startViewDateComputed} />\n      <Getter name=\"endViewDate\" computed={endViewDateComputed} />\n    </Plugin>\n  );\n};\n\ntype PropsWithoutRedux = {};\n\nconst mapDispatchToProps = {\n  setStartOfWeek,\n  setEndOfWeek,\n};\n\nexport default (connect(\n  undefined,\n  mapDispatchToProps,\n)(withErrorBoundary(IntegratedDates)): AbstractComponent<PropsWithoutRedux>);\n","import axios from 'axios';\nimport _get from 'lodash/get';\nimport { PLACEHOLDER_AUTHORIZATION } from './constants';\n\nexport default class Request {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_YOU_BOOK_ME_ENDPOINT}/${process.env.REACT_APP_YOU_BOOK_ME_ACCOUNT_ID}/`;\n    this.cancelToken = null;\n  }\n\n  cancel() {\n    if (this.cancelToken !== null) this.cancelToken();\n  }\n\n  axios({\n    method,\n    baseURL = this.baseURL,\n    url,\n    data,\n    params,\n    headers = {},\n    needResHeaders = false,\n  }) {\n    const self = this;\n    const { CancelToken } = axios;\n\n    return new Promise((resolve, reject) => {\n      const options = {\n        method,\n        url,\n        baseURL,\n        timeout: 30000,\n        params,\n        data,\n        headers: { ...headers, Authorization: PLACEHOLDER_AUTHORIZATION },\n        cancelToken: new CancelToken(function executor(c) {\n          self.cancelToken = c;\n        }),\n      };\n\n      axios.request(options).then(\n        res => {\n          const data =\n            typeof res.data === 'object' ? res.data : JSON.parse(res.data);\n\n          resolve(needResHeaders ? { data, headers: res.headers } : data);\n        },\n        error => {\n          const status = _get(error, ['response', 'status']);\n          const message = _get(error, ['response', 'data', 'message']);\n          const errors = _get(error, ['response', 'data', 'errors']);\n          const errorRes = { status, message, errors };\n          reject(errorRes);\n        },\n      );\n    });\n  }\n}\n","import Request from './Request';\nimport { PATHS } from './constants';\n\nclass ProfilesService extends Request {\n  getProfileById({ id, fields }) {\n    if (!id) return {};\n\n    return this.axios({\n      method: 'GET',\n      url: `${PATHS.PROFILES}/${id}`,\n      params: {\n        fields,\n      },\n    });\n  }\n}\n\nexport default new ProfilesService();\n","import _get from 'lodash/get';\n\nconst getEmail = booking => {\n  const emailField = _get(booking, ['answers'], []).filter(\n    answer => answer.code === 'EMAIL',\n  )[0];\n\n  return _get(emailField, 'string', '');\n};\n\nconst filterCancelledBookings = booking => !booking.cancelled;\n\nexport const remapBooking = booking => {\n  const rawStart = _get(booking, 'startsAt');\n  const rawEnd = _get(booking, 'endsAt');\n  const timeZone = _get(booking, 'timeZone');\n\n  return {\n    title: getEmail(booking),\n    id: _get(booking, 'id'),\n    rawStart,\n    startDate: rawStart,\n    rawEnd,\n    endDate: rawEnd,\n    services: _get(booking, 'services', []),\n    cancelled: _get(booking, 'cancelled'),\n    answers: _get(booking, 'answers', []),\n    timeZone,\n  };\n};\n\nexport const remapBookings = bookings =>\n  bookings\n    .map(booking => {\n      return remapBooking(booking);\n    })\n    .filter(filterCancelledBookings);\n","import Request from './Request';\nimport { BOOKING_FIELDS, PATHS } from './constants';\nimport _get from 'lodash/get';\nimport moment from 'moment';\nimport parse from 'parse-link-header';\nimport { remapBookings } from './helpers';\n\nclass BookingsService extends Request {\n  async createBooking({ profileId, data }) {\n    const booking = await this.axios({\n      method: 'POST',\n      url: `${PATHS.PROFILES}/${profileId}/${PATHS.BOOKINGS}`,\n      params: {\n        fields: BOOKING_FIELDS,\n      },\n      data: {\n        ...data,\n      },\n    });\n    return remapBookings([booking]);\n  }\n\n  async createBookings({ profileId, data }) {\n    let cur = 0;\n    let errors = [];\n    let bookings = [];\n    while (cur !== data.length) {\n      try {\n        const res = await this.axios({\n          method: 'POST',\n          url: `${PATHS.PROFILES}/${profileId}/${PATHS.BOOKINGS}`,\n          params: { fields: BOOKING_FIELDS },\n          data: data[cur],\n        });\n        bookings.push(res);\n      } catch (error) {\n        errors.push(data[cur]);\n      }\n\n      cur = cur + 1;\n    }\n    return { bookings: remapBookings(bookings), errors };\n  }\n\n  async getBookings({ profileId, from, to }) {\n    if (!profileId) return [];\n\n    let needMore = true;\n    let nextPage = '';\n    let bookings = [];\n\n    while (needMore) {\n      const res = !nextPage\n        ? await this.axios({\n            method: 'GET',\n            url: `${PATHS.PROFILES}/${profileId}/${PATHS.BOOKINGS}`,\n            params: {\n              fields: BOOKING_FIELDS,\n              jumpToDate: moment(from).format('YYYY-MM-DD'),\n            },\n            needResHeaders: true,\n          })\n        : await this.axios({\n            method: 'GET',\n            url: nextPage,\n            needResHeaders: true,\n          });\n\n      const resLink = _get(res, ['headers', 'link'], '');\n      nextPage = _get(parse(resLink), ['next', 'url'], '');\n\n      const tmpBookings = _get(res, ['data']);\n      bookings = [...bookings, ...tmpBookings];\n      const lastItemStartDate = _get(\n        tmpBookings,\n        [tmpBookings.length - 1, 'startsAt'],\n        '',\n      );\n\n      needMore = nextPage && moment(lastItemStartDate).isBefore(to);\n    }\n\n    return remapBookings(bookings);\n  }\n}\n\nexport default new BookingsService();\n","// @flow\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport _get from 'lodash/get';\nimport { ProfilesService } from '../../../services/YouCanBook';\nimport { CALENDAR_CONFIG_FIELDS } from '../helpers';\nimport {\n  setConfig,\n  setError,\n  setIsLoading,\n  setProfileId,\n} from '../redux/Actions';\nimport type { CustomHookProps } from './types';\n\nconst useConfig = ({ profileId }: CustomHookProps) => {\n  const dispatch = useDispatch();\n  const clientTimeZone = useSelector(state =>\n    _get(state, ['calendar', 'clientTimeZone']),\n  );\n  const config = useSelector(state => _get(state, ['calendar', 'config']));\n\n  useEffect(() => {\n    dispatch(setProfileId(profileId));\n\n    (async () => {\n      dispatch(setIsLoading(true));\n      try {\n        const data = await ProfilesService.getProfileById({\n          id: profileId,\n          fields: CALENDAR_CONFIG_FIELDS,\n        });\n        dispatch(setConfig(data || {}));\n      } catch (error) {\n        dispatch(setError(error));\n      }\n      dispatch(setIsLoading(false));\n    })();\n\n    return () => {\n      ProfilesService.cancel();\n    };\n    // eslint-disable-next-line\n  }, [profileId]);\n\n  useEffect(() => {\n    dispatch(setConfig(config));\n    // eslint-disable-next-line\n  }, [clientTimeZone]);\n};\n\nexport default useConfig;\n","// @flow\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { BookingsService } from '../../../services/YouCanBook';\nimport _get from 'lodash/get';\nimport type { CustomHookProps } from './types';\nimport { setError, setIsLoading, setAppointments } from '../redux/Actions';\n\nconst useAppointments = ({ profileId }: CustomHookProps) => {\n  const dispatch = useDispatch();\n  const startOfWeek = useSelector(state =>\n    _get(state, ['calendar', 'startOfWeek']),\n  );\n  const endOfWeek = useSelector(state =>\n    _get(state, ['calendar', 'endOfWeek']),\n  );\n  const appointments = useSelector(state =>\n    _get(state, ['calendar', 'appointments']),\n  );\n  const clientTimeZone = useSelector(state =>\n    _get(state, ['calendar', 'clientTimeZone']),\n  );\n\n  useEffect(() => {\n    (async () => {\n      if (!endOfWeek) return;\n      try {\n        dispatch(setIsLoading(true));\n        const appointmentData = await BookingsService.getBookings({\n          profileId,\n          from: startOfWeek,\n          to: endOfWeek,\n        });\n        dispatch(setAppointments(appointmentData));\n      } catch (error) {\n        dispatch(setError(error));\n      }\n      dispatch(setIsLoading(false));\n    })();\n\n    return () => {\n      BookingsService.cancel();\n    };\n    // eslint-disable-next-line\n  }, [endOfWeek, profileId]);\n\n  useEffect(() => {\n    dispatch(setAppointments(appointments));\n    // eslint-disable-next-line\n  }, [clientTimeZone]);\n};\n\nexport default useAppointments;\n","// @flow\nimport { useEffect } from 'react';\nimport { ERROR_MESSAGES } from '../helpers';\nimport { toastr } from 'react-redux-toastr';\nimport { useSelector } from 'react-redux';\nimport _get from 'lodash/get';\n\nconst useError = () => {\n  const error = useSelector(state => _get(state, ['calendar', 'error']));\n\n  useEffect(() => {\n    if (!error) return;\n\n    const { message } = error || {};\n\n    if (message) {\n      toastr.error(ERROR_MESSAGES.getTimeConfig, message);\n    }\n  }, [error]);\n};\n\nexport default useError;\n","// @flow\nexport const TYPES = {\n  SIMPLE: 'SIMPLE',\n  CHECKBOX: 'CHECKBOX',\n  MULTI_DROPDOWN: 'MULTI_DROPDOWN',\n};\n","// @flow\nimport type { TQuestion } from '../../../types';\nimport { Auth } from 'aws-amplify';\nimport { TYPES } from './constants';\nimport { formatCells, toMinutes } from '../helpers';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport _get from 'lodash.get';\n\nexport const BOOKING_FORMAT = 'YYYY-MM-DDTHH:mm:ss';\nconst BOOKING_DATE_FORMAT = 'YYYY-MM-DD';\nconst BOOKING_TIME_FORMAT = 'HH:mm:ss';\nexport const DATE_PICKER_FORMAT = 'MM/DD/YYYY';\nconst WEEK_DAYS = 7;\n\nconst defaultValues = {\n  [TYPES.SIMPLE]: '',\n  [TYPES.CHECKBOX]: false,\n  [TYPES.MULTI_DROPDOWN]: '',\n};\n\nconst REPEAT_TYPE = {\n  daily: 'daily',\n  weekly: 'weekly',\n};\n\nexport const generateInitialValues = ({ questions }: Object): Object => {\n  return questions.reduce(\n    (acc, { code, type }) => ({ ...acc, [code]: defaultValues[type] }),\n    {\n      appointmentType: undefined,\n    },\n  );\n};\n\nexport const generateSellerValues = ({\n  property,\n  selectingCells,\n  config,\n}: Object): Object => {\n  const {\n    questions,\n    times: { slotLengthMinutes },\n  } = config;\n  const { start } = formatCells(selectingCells, slotLengthMinutes);\n  const date = start.format(DATE_PICKER_FORMAT);\n  const appointmentTypes = _get(config, 'services.items', []);\n  const busyAppointmentType = getBusyAppointmentType(appointmentTypes);\n  const address = _get(property, 'PropertyData.FullAddress', '');\n  const email = _get(Auth, ['user', 'attributes', 'email'], '');\n  return {\n    ...generateInitialValues({ questions }),\n    appointmentType: busyAppointmentType,\n    FNAME: address,\n    EMAIL: email,\n    DRE: '1',\n    repeat: false,\n    repeatType: REPEAT_TYPE.daily,\n    startDate: date,\n    endDate: date,\n  };\n};\n\nconst prepareQuestionsAnswers = (questions: TQuestion[], values): Object => {\n  return questions\n    .map(({ code }) => ({ code, string: values[code] }))\n    .filter(({ string }) => string);\n};\n\nconst generateBookingRange = (selectingCells, slotLengthMinutes) => {\n  const { startCell, endCell } = selectingCells;\n  const { start } = formatCells(selectingCells, slotLengthMinutes);\n  const startMinutes = toMinutes(startCell);\n  const endMinutes = toMinutes(endCell);\n  const duration =\n    Math.abs((startMinutes - endMinutes) / slotLengthMinutes) + 1;\n  return Array.from(Array(duration), (_, i) => ({\n    startsAt: moment(start)\n      .add(i * slotLengthMinutes, 'm')\n      .format(BOOKING_FORMAT),\n  }));\n};\n\nexport const prepareBookingData = ({\n  selectingCells,\n  values,\n  config,\n}: Object): Object => {\n  const {\n    title,\n    questions,\n    times: { slotLengthMinutes },\n  } = config;\n  const { FNAME: name, appointmentType } = values;\n  const bookingRange = generateBookingRange(selectingCells, slotLengthMinutes);\n\n  return bookingRange.map(({ startsAt }) => ({\n    startsAt,\n    title: `${name} and ${title}`,\n    tentative: 'NOT_USED',\n    timeZone: moment.tz.guess(),\n    cancelled: false,\n    units: 1,\n    services: [appointmentType],\n    answers: prepareQuestionsAnswers(questions, values),\n  }));\n};\n\nexport const BUSY_APPOINTMENT = 'busy';\n\nexport const getBusyAppointmentType = (\n  appointmentTypes: Object[],\n): Object | typeof undefined => {\n  return appointmentTypes.find(\n    ({ name }) => name.toLowerCase() === BUSY_APPOINTMENT,\n  );\n};\n\nexport const prepareSellerBookings = ({\n  selectingCells,\n  values,\n  config,\n}: Object): Object[] => {\n  const {\n    questions,\n    times: { slotLengthMinutes },\n  } = config;\n  const { repeat, repeatType, startDate, endDate } = values;\n  const appointmentTypes = _get(config, 'services.items', []);\n  const busyAppointmentType = getBusyAppointmentType(appointmentTypes);\n  const bookingRange = generateBookingRange(selectingCells, slotLengthMinutes);\n\n  if (!repeat)\n    return bookingRange.map(({ startsAt }) => ({\n      startsAt,\n      title: BUSY_APPOINTMENT,\n      tentative: 'NOT_USED',\n      timeZone: moment.tz.guess(),\n      cancelled: false,\n      units: 1,\n      services: [busyAppointmentType],\n      answers: prepareQuestionsAnswers(questions, values),\n    }));\n\n  const mStartDate = moment(startDate);\n  const mEndDate = moment(endDate);\n  const diff = mEndDate.diff(mStartDate, 'day');\n  const module = repeatType === REPEAT_TYPE.weekly ? WEEK_DAYS : 1;\n\n  const days = Array.from(\n    Array(Math.floor(diff / module) + 1),\n    (_, i) => i * module,\n  );\n\n  return days.reduce((bookings, day) => {\n    const mDay = moment(startDate).add(day, 'day');\n    const bookingsInDay = bookingRange.map(({ startsAt }) => ({\n      title: BUSY_APPOINTMENT,\n      startsAt: `${mDay.format(BOOKING_DATE_FORMAT)}T${moment(startsAt).format(\n        BOOKING_TIME_FORMAT,\n      )}`,\n      tentative: 'NOT_USED',\n      timeZone: moment.tz.guess(),\n      cancelled: false,\n      units: 1,\n      services: [busyAppointmentType],\n      answers: prepareQuestionsAnswers(questions, values),\n    }));\n    return [...bookings, ...bookingsInDay];\n  }, []);\n};\n\nexport const getErrorMessages = (bookings: Object[]): Object => {\n  const bookingDates = bookings.map(booking => booking.startsAt).join(', ');\n  return { message: `Cannot book at dates: ${bookingDates}` };\n};\n\nconst emailRegex = /^[A-Za-z0-9+_.-]+@(.+)$/;\n\nexport const checkValidValues = (\n  questions: Object[],\n  values: Object,\n): boolean => {\n  const { appointmentType, EMAIL: email } = values;\n  if (!appointmentType) return false;\n  const isMissingValue = questions.some(\n    ({ code, required }) => required && !values[code],\n  );\n  if (isMissingValue) return false;\n  return new RegExp(emailRegex).test(email);\n};\n","// @flow\nimport { Box, makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport type { Element } from 'react';\nimport { formatCells, displayTime, displayDate } from '../../helpers';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport _isEmpty from 'lodash/isEmpty';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    ...theme.typography.h4,\n    padding: theme.spacing(2, 0),\n    backgroundColor: theme.palette.background.gray,\n    textAlign: 'center',\n  },\n}));\n\nconst AppointmentData = ({\n  selectingCells,\n  slotLengthMinutes,\n}: Object): Element<'div'> => {\n  const classes = useStyles();\n  if (_isEmpty(selectingCells)) return <div></div>;\n  const { date } = selectingCells;\n  const { start, end } = formatCells(selectingCells, slotLengthMinutes);\n  const displayStart = displayTime(start);\n  const displayEnd = displayTime(end);\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography variant=\"h4\">{displayDate(date)}</Typography>\n      <Box sx={{ mt: 1 }}>\n        <Typography variant=\"h3\">\n          {displayStart} - {displayEnd}\n        </Typography>\n      </Box>\n    </div>\n  );\n};\n\nconst structuredSelector = createStructuredSelector({\n  selectingCells: state => _get(state, 'calendar.selectingCells'),\n  slotLengthMinutes: state =>\n    _get(state, 'calendar.config.times.slotLengthMinutes'),\n});\n\ntype PropsWithoutRedux = {};\nexport default (connect(structuredSelector)(\n  withErrorBoundary(React.memo(AppointmentData)),\n): React.AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport React, { useEffect } from 'react';\nimport type { Element } from 'react';\nimport { Box, makeStyles, Typography } from '@material-ui/core';\nimport QueryBuilderOutlinedIcon from '@material-ui/icons/QueryBuilderOutlined';\nimport { getAppointmentTypeDuration } from '../../helpers';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { useFormikContext } from 'formik';\nimport _get from 'lodash.get';\n\nconst useStyles = makeStyles(theme => ({\n  group: {\n    width: '100%',\n    margin: theme.spacing(1, 0, 2, 0),\n  },\n  button: {\n    padding: theme.spacing(1.5, 2),\n    textTransform: 'none',\n  },\n  buttonLabel: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  duration: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  selected: {\n    '&&, &&:hover': {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n}));\n\ntype Props = {\n  appointmentTypes: Object[],\n};\n\nexport const AppointmentTypes = ({\n  appointmentTypes,\n}: Props): Element<typeof React.Fragment> => {\n  const classes = useStyles();\n  const { values, setFieldValue } = useFormikContext();\n  const value = _get(values, 'appointmentType.id') || '';\n\n  useEffect(() => {\n    if (appointmentTypes.length === 1) {\n      const [appointmentType] = appointmentTypes;\n      setFieldValue('appointmentType', appointmentType);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appointmentTypes.length]);\n\n  const handleChange = (event, newTypeId) => {\n    const newType = appointmentTypes.find(type => type.id === newTypeId);\n    setFieldValue('appointmentType', newType);\n  };\n\n  return (\n    <>\n      <Typography variant=\"h4\">Choose an appointment type</Typography>\n      <ToggleButtonGroup\n        orientation=\"vertical\"\n        value={value}\n        exclusive\n        onChange={handleChange}\n        classes={{ root: classes.group }}\n      >\n        {appointmentTypes.map(type => (\n          <ToggleButton\n            value={type.id}\n            classes={{\n              root: classes.button,\n              label: classes.buttonLabel,\n              selected: classes.selected,\n            }}\n            key={type.id}\n          >\n            <Typography variant=\"h5\" color=\"textPrimary\">\n              {type.name}\n            </Typography>\n            <Typography\n              variant=\"subtitle1\"\n              classes={{ root: classes.duration }}\n            >\n              <QueryBuilderOutlinedIcon fontSize=\"small\" />\n              <Box sx={{ ml: 0.5, mt: 0.25 }}>\n                {getAppointmentTypeDuration(type)}\n              </Box>\n            </Typography>\n          </ToggleButton>\n        ))}\n      </ToggleButtonGroup>\n    </>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport clsx from 'clsx';\nimport {\n  FormControl,\n  FormLabel,\n  makeStyles,\n  TextField as MuiTextField,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    marginTop: theme.spacing(0.5),\n  },\n  label: {\n    color: theme.palette.primary.dark,\n    ...theme.typography.h4,\n  },\n  input: {\n    ...theme.typography.h5,\n    padding: theme.spacing(1, 1.5),\n  },\n}));\n\ntype Props = {\n  name?: string,\n  variant?: string,\n  placeholder?: string,\n  label: string,\n  value: string,\n  onChange: Function,\n  required?: boolean,\n  classes?: Object,\n};\n\nexport const TextField = (props: Props): Element<typeof MuiTextField> => {\n  const styleClasses = useStyles();\n  const {\n    name,\n    variant,\n    placeholder = '',\n    label,\n    value,\n    required,\n    onChange,\n    classes = {},\n  } = props;\n\n  return (\n    <FormControl required={required}>\n      <FormLabel color=\"secondary\" className={styleClasses.label}>\n        {label}\n      </FormLabel>\n      <MuiTextField\n        name={name}\n        variant={variant}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        classes={{ root: clsx(styleClasses.textField, classes.textField) }}\n        InputProps={{\n          classes: {\n            input: clsx(styleClasses.input, classes.input),\n          },\n        }}\n      />\n    </FormControl>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport { Box, FormHelperText, makeStyles } from '@material-ui/core';\nimport type { TQuestion } from '../../../../types';\nimport { TextField } from '../../../Elements/TextField';\nimport { useFormikContext } from 'formik';\n\nconst useStyles = makeStyles(theme => ({\n  after: {\n    ...theme.typography.subtitle,\n  },\n}));\n\ntype Props = {\n  question: TQuestion,\n};\n\nexport const SimpleField = ({ question }: Props): Element<typeof Box> => {\n  const classes = useStyles();\n  const { code, before, after, required } = question;\n  const { values, handleChange } = useFormikContext();\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', my: 1 }}>\n      <TextField\n        name={code}\n        variant=\"outlined\"\n        placeholder=\"\"\n        label={before}\n        value={values[code]}\n        onChange={handleChange}\n        required={required}\n      />\n      {Boolean(after) && (\n        <FormHelperText className={classes.after}>{after}</FormHelperText>\n      )}\n    </Box>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport {\n  FormControl,\n  MenuItem,\n  Select as MuiSelect,\n  FormLabel,\n  makeStyles,\n} from '@material-ui/core';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    '& .MuiOutlinedInput-notchedOutline>legend>span': {\n      display: 'none',\n    },\n  },\n  label: {\n    '&&': {\n      color: theme.palette.primary.dark,\n      ...theme.typography.h4,\n    },\n  },\n  select: {\n    ...theme.typography.h5,\n    padding: theme.spacing(1, 1.5),\n  },\n  item: {\n    ...theme.typography.h5,\n  },\n}));\n\ntype Props = {\n  name?: string,\n  value: string,\n  onChange: Function,\n  label: string,\n  variant?: string,\n  required?: boolean,\n  options: string[],\n  classes?: Object,\n};\n\nexport const Select = (props: Props): Element<typeof FormControl> => {\n  const styleClasses = useStyles();\n  const {\n    name,\n    value,\n    onChange,\n    label,\n    variant,\n    required,\n    options,\n    classes = {},\n  } = props;\n\n  return (\n    <FormControl required={required} classes={{ root: styleClasses.wrapper }}>\n      <FormLabel className={styleClasses.label}>{label}</FormLabel>\n      <MuiSelect\n        name={name}\n        classes={{ root: clsx(styleClasses.select, classes.select) }}\n        value={value}\n        onChange={onChange}\n        label=\"\"\n        variant={variant}\n        MenuProps={{\n          anchorOrigin: {\n            vertical: 'bottom',\n            horizontal: 'left',\n          },\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'left',\n          },\n          getContentAnchorEl: null,\n        }}\n      >\n        <MenuItem\n          classes={{ root: clsx(styleClasses.item, classes.item) }}\n          value=\"\"\n        >\n          <em>None</em>\n        </MenuItem>\n        {options.map((option: string) => (\n          <MenuItem\n            key={option}\n            value={option}\n            classes={{ root: clsx(styleClasses.item, classes.item) }}\n          >\n            {option}\n          </MenuItem>\n        ))}\n      </MuiSelect>\n    </FormControl>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport {\n  Checkbox as MuiCheckbox,\n  FormControlLabel,\n  FormControl,\n  makeStyles,\n} from '@material-ui/core';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(theme => ({\n  label: {\n    ...theme.typography.h5,\n  },\n  checkbox: {},\n}));\n\ntype Props = {\n  name?: string,\n  required?: boolean,\n  checked: boolean,\n  onChange: Function,\n  label: string,\n  color?: string,\n  classes?: Object,\n};\n\nexport const Checkbox = (props: Props): Element<typeof FormControl> => {\n  const styleClasses = useStyles();\n  const {\n    name,\n    required,\n    checked,\n    onChange,\n    label,\n    color = 'primary',\n    classes = {},\n  } = props;\n  return (\n    <FormControl required={required}>\n      <FormControlLabel\n        classes={{ label: clsx(styleClasses.label, classes.label) }}\n        control={\n          <MuiCheckbox\n            classes={{ root: clsx(styleClasses.checkbox, classes.checkbox) }}\n            checked={checked}\n            onChange={onChange}\n            name={name}\n            color={color}\n          />\n        }\n        label={label}\n      />\n    </FormControl>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport { Box, FormHelperText, makeStyles } from '@material-ui/core';\nimport type { TQuestion } from '../../../../types';\nimport { Checkbox } from '../../../Elements';\nimport { useFormikContext } from 'formik';\n\nconst useStyles = makeStyles(theme => ({\n  after: {\n    ...theme.typography.subtitle,\n  },\n}));\n\ntype Props = {\n  question: TQuestion,\n};\n\nexport const CheckboxField = ({ question }: Props): Element<typeof Box> => {\n  const classes = useStyles();\n  const { after, before, required, code } = question;\n  const { values, handleChange } = useFormikContext();\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', my: 1 }}>\n      <Checkbox\n        checked={values[code]}\n        onChange={handleChange}\n        name={code}\n        color=\"primary\"\n        label={before}\n        required={required}\n      />\n      {Boolean(after) && (\n        <FormHelperText className={classes.after}>{after}</FormHelperText>\n      )}\n    </Box>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport { SimpleField } from './SimpleField';\nimport { CheckboxField } from './CheckboxField';\nimport { DropdownField } from './DropdownField';\nimport type { TQuestion } from '../../../../types';\nimport { TYPES } from '../constants';\n\nconst components = {\n  [TYPES.SIMPLE]: SimpleField,\n  [TYPES.CHECKBOX]: CheckboxField,\n  [TYPES.MULTI_DROPDOWN]: DropdownField,\n};\n\ntype Props = {\n  questions: TQuestion[],\n};\n\nexport const Fields = ({\n  questions,\n}: Props): Element<typeof React.Fragment> => {\n  return (\n    <>\n      {questions.map(question => {\n        const Component = components[question.type];\n        return Component ? (\n          <Component key={question.code} question={question} />\n        ) : (\n          <></>\n        );\n      })}\n    </>\n  );\n};\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport { Box } from '@material-ui/core';\nimport type { TQuestion } from '../../../../types';\nimport { Select } from '../../../Elements';\nimport { useFormikContext } from 'formik';\n\ntype Props = {\n  question: TQuestion,\n};\n\nexport const DropdownField = ({ question }: Props): Element<typeof Box> => {\n  const { code, after, before, required, options = [] } = question;\n  const { values, handleChange } = useFormikContext();\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', my: 1 }}>\n      <Select\n        name={code}\n        value={values[code]}\n        onChange={handleChange}\n        label={before}\n        variant=\"outlined\"\n        required={required}\n        options={options}\n      />\n      {Boolean(after) && <Box sx={{ mt: 1 }}>{after}</Box>}\n    </Box>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { Button, makeStyles } from '@material-ui/core';\nimport { useFormikContext } from 'formik';\nimport { checkValidValues } from '../helpers';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(2),\n  },\n}));\n\ntype Props = {\n  questions: Object[],\n  isLoading: boolean,\n};\n\nexport const SubmitButton = ({ questions, isLoading }: Props) => {\n  const classes = useStyles();\n  const { values } = useFormikContext();\n  const isValidValues = checkValidValues(questions, values);\n\n  return (\n    <Button\n      type=\"submit\"\n      color=\"primary\"\n      disableElevation\n      fullWidth\n      variant=\"contained\"\n      disabled={isLoading || !isValidValues}\n      classes={{ root: classes.button }}\n    >\n      Confirm Booking\n    </Button>\n  );\n};\n","// @flow\nimport type { Element, AbstractComponent } from 'react';\nimport React from 'react';\nimport { Box, Divider } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport {\n  generateInitialValues,\n  getErrorMessages,\n  prepareBookingData,\n} from './helpers';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport _isEmpty from 'lodash/isEmpty';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport AppointmentData from './AppointmentData';\nimport { AppointmentTypes } from './AppointmentTypes';\nimport { BookingsService } from '../../../services/YouCanBook';\nimport { setIsLoading, setError, addAppointments } from '../redux/Actions';\nimport { Fields } from './Fields';\nimport { BUSY_APPOINTMENT_NAME } from '../../../shared/Consts';\nimport { SubmitButton } from './SubmitButton';\n\ntype Props = {\n  profileId: string | typeof undefined,\n  config: Object,\n  selectingCells: Object,\n  setIsLoading: Function,\n  setError: Function,\n  addAppointments: Function,\n  onSave: Function,\n  isLoading: boolean,\n};\n\nconst BookingForm = ({\n  profileId,\n  config,\n  selectingCells,\n  setIsLoading,\n  setError,\n  addAppointments,\n  onSave,\n  isLoading,\n}: Props): Element<typeof Box> => {\n  const questions = _get(config, 'questions', []);\n  const appointmentTypes = _get(config, 'services.items', []);\n  const buyerAppointmentTypes = appointmentTypes.filter(\n    appointment => appointment.name.toLowerCase() !== BUSY_APPOINTMENT_NAME,\n  );\n  const initialValues = generateInitialValues({ questions, selectingCells });\n\n  const onSubmit = async (values: Object) => {\n    try {\n      setIsLoading(true);\n      const data = prepareBookingData({ selectingCells, values, config });\n      const { bookings, errors } = await BookingsService.createBookings({\n        profileId,\n        data,\n      });\n      if (!_isEmpty(errors)) setError(getErrorMessages(errors));\n      addAppointments(bookings);\n      onSave();\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n      setError(error);\n    }\n  };\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n      <Formik initialValues={initialValues} onSubmit={onSubmit}>\n        <Form>\n          <AppointmentTypes appointmentTypes={buyerAppointmentTypes} />\n          <AppointmentData />\n          <Divider />\n          <Box sx={{ mt: 4 }}>\n            <Fields questions={questions} />\n          </Box>\n          <SubmitButton questions={questions} isLoading={isLoading} />\n        </Form>\n      </Formik>\n    </Box>\n  );\n};\n\nconst structuredSelector = createStructuredSelector({\n  profileId: state => _get(state, 'calendar.profileId'),\n  config: state => _get(state, 'calendar.config'),\n  isLoading: state => _get(state, 'calendar.isLoading'),\n  selectingCells: state => _get(state, 'calendar.selectingCells'),\n});\n\nconst mapDispatchToProps = {\n  setIsLoading,\n  setError,\n  addAppointments,\n};\n\ntype PropsWithoutRedux = {\n  appointmentData: Object,\n};\nexport default (connect(\n  structuredSelector,\n  mapDispatchToProps,\n)(withErrorBoundary(BookingForm)): AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport MomentUtils from '@date-io/moment';\nimport { useFormikContext } from 'formik';\nimport {\n  Collapse,\n  FormControlLabel,\n  Switch,\n  Grid,\n  RadioGroup,\n  Radio,\n  makeStyles,\n} from '@material-ui/core';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport { DATE_PICKER_FORMAT } from '../helpers';\nimport moment from 'moment';\nimport { DATE_PICKER_ID } from '../../helpers';\n\nconst useStyles = makeStyles(theme => ({\n  popover: {\n    ...theme.typography.h5,\n  },\n}));\n\nexport const RepeatSection = (): Element<'div'> => {\n  const classes = useStyles();\n  const { values, handleChange, setFieldValue } = useFormikContext();\n\n  const handleDateChange = (field: string) => (date: Object) => {\n    setFieldValue(field, moment(date).format(DATE_PICKER_FORMAT));\n  };\n\n  return (\n    <div>\n      <FormControlLabel\n        control={\n          <Switch\n            name=\"repeat\"\n            checked={values.repeat}\n            onChange={handleChange}\n            color=\"primary\"\n          />\n        }\n        label=\"Repeat\"\n      />\n\n      <Collapse in={values.repeat}>\n        <div>\n          <RadioGroup\n            name=\"repeatType\"\n            value={values.repeatType}\n            onChange={handleChange}\n          >\n            <FormControlLabel\n              value=\"daily\"\n              control={<Radio color=\"primary\" />}\n              label=\"Daily\"\n            />\n            <FormControlLabel\n              value=\"weekly\"\n              control={<Radio color=\"primary\" />}\n              label=\"Weekly\"\n            />\n          </RadioGroup>\n        </div>\n        <Grid container justifyContent=\"space-between\">\n          <MuiPickersUtilsProvider utils={MomentUtils}>\n            <KeyboardDatePicker\n              variant=\"inline\"\n              inputVariant=\"outlined\"\n              format={DATE_PICKER_FORMAT}\n              margin=\"normal\"\n              label=\"Start date\"\n              value={new Date(values.startDate)}\n              onChange={handleDateChange('startDate')}\n              PopoverProps={{\n                classes: { root: classes.popover },\n                id: DATE_PICKER_ID,\n              }}\n            />\n            <KeyboardDatePicker\n              variant=\"inline\"\n              inputVariant=\"outlined\"\n              format={DATE_PICKER_FORMAT}\n              margin=\"normal\"\n              label=\"End date\"\n              value={new Date(values.endDate)}\n              onChange={handleDateChange('endDate')}\n              PopoverProps={{\n                classes: { root: classes.popover },\n                id: DATE_PICKER_ID,\n              }}\n            />\n          </MuiPickersUtilsProvider>\n        </Grid>\n      </Collapse>\n    </div>\n  );\n};\n","// @flow\nimport type { Element, AbstractComponent } from 'react';\nimport React from 'react';\nimport { Box, Divider, Typography } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport {\n  generateSellerValues,\n  getErrorMessages,\n  prepareSellerBookings,\n} from './helpers';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash/get';\nimport _isEmpty from 'lodash/isEmpty';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport AppointmentData from './AppointmentData';\nimport { BookingsService } from '../../../services/YouCanBook';\nimport { setIsLoading, setError, addAppointments } from '../redux/Actions';\nimport { RepeatSection } from './RepeatSection';\nimport { SubmitButton } from './SubmitButton';\n\ntype Props = {\n  profileId: string | typeof undefined,\n  config: Object,\n  appointmentData: Object,\n  setIsLoading: Function,\n  setError: Function,\n  addAppointments: Function,\n  property: Object,\n  onSave: Function,\n  isLoading: boolean,\n  selectingCells: Object,\n};\n\nconst SellerBookingForm = ({\n  profileId,\n  config,\n  selectingCells,\n  setIsLoading,\n  setError,\n  addAppointments,\n  property,\n  onSave,\n  isLoading,\n}: Props): Element<typeof Box> => {\n  if (_isEmpty(selectingCells)) return <Box></Box>;\n  const questions = _get(config, 'questions', []);\n\n  const initialValues = generateSellerValues({\n    property,\n    selectingCells,\n    config,\n  });\n\n  const onSubmit = async (values: Object) => {\n    try {\n      setIsLoading(true);\n      const data = prepareSellerBookings({ selectingCells, values, config });\n      const { bookings, errors } = await BookingsService.createBookings({\n        profileId,\n        data,\n      });\n      if (!_isEmpty(errors)) setError(getErrorMessages(errors));\n      addAppointments(bookings);\n      onSave();\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n      setError(error);\n    }\n  };\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n      <Formik initialValues={initialValues} onSubmit={onSubmit}>\n        <Form>\n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"h4\">Block available slots</Typography>\n          </Box>\n          <AppointmentData />\n          <Divider />\n          <Box sx={{ my: 2 }}>\n            <RepeatSection />\n          </Box>\n          <SubmitButton questions={questions} isLoading={isLoading} />\n        </Form>\n      </Formik>\n    </Box>\n  );\n};\n\nconst structuredSelector = createStructuredSelector({\n  profileId: state => _get(state, 'calendar.profileId'),\n  config: state => _get(state, 'calendar.config'),\n  property: state => _get(state, 'calendar.property'),\n  isLoading: state => _get(state, 'calendar.isLoading'),\n  selectingCells: state => _get(state, 'calendar.selectingCells'),\n});\n\nconst mapDispatchToProps = {\n  setIsLoading,\n  setError,\n  addAppointments,\n};\n\ntype PropsWithoutRedux = {\n  appointmentData: Object,\n};\nexport default (connect(\n  structuredSelector,\n  mapDispatchToProps,\n)(withErrorBoundary(SellerBookingForm)): AbstractComponent<PropsWithoutRedux>);\n","// @flow\nimport * as React from 'react';\nimport type { AbstractComponent } from 'react';\nimport type { Element } from 'react';\nimport { BookingForm, SellerBookingForm } from '../BookingForm';\nimport { connect } from 'react-redux';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport { createStructuredSelector } from 'reselect';\nimport _get from 'lodash.get';\n\nexport const BasicLayout = (props: Object): Element<typeof BookingForm> => {\n  const { appointmentData, property, onSave } = props;\n  const FormComponent = property ? SellerBookingForm : BookingForm;\n\n  return <FormComponent appointmentData={appointmentData} onSave={onSave} />;\n};\n\nconst structuredSelector = createStructuredSelector({\n  property: state => _get(state, ['calendar', 'property']),\n});\n\nexport default (connect(structuredSelector)(\n  withErrorBoundary(BasicLayout),\n): AbstractComponent<{}>);\n","// @flow\nimport React from 'react';\nimport type { Element } from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  layout: {\n    background: theme.palette.common.white,\n  },\n  content: {\n    padding: theme.spacing(4),\n    width: '30vw',\n    minWidth: '300px',\n    overflow: 'auto',\n    maxHeight: '90vh',\n  },\n}));\n\nexport const Layout = (props: Object): Element<'div'> => {\n  const {\n    basicLayoutComponent: BasicLayout,\n    commandLayoutComponent: CommandLayout,\n    recurrenceLayoutComponent: RecurrenceLayout,\n    isRecurrence,\n    children,\n    ...restProps\n  } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.layout} {...restProps}>\n      <CommandLayout />\n      <div className={classes.content}>\n        <BasicLayout />\n        <RecurrenceLayout />\n      </div>\n      {children}\n    </div>\n  );\n};\n","// @flow\nimport React, { useEffect } from 'react';\nimport type { Element } from 'react';\n\nexport const CommandLayout = (props: Object): Element<'div'> => {\n  const { onCommitButtonClick, isSaving, setIsSaving } = props;\n\n  useEffect(() => {\n    if (isSaving) {\n      onCommitButtonClick();\n      setIsSaving(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSaving]);\n\n  return <div></div>;\n};\n","// @flow\nimport * as React from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport { stopSelectingCell } from '../redux/Actions';\nimport { OVERLAY_ID } from '../helpers';\nimport { Fade } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nexport const Overlay = ({\n  children,\n  visible,\n  className,\n  onHide,\n  ...restProps\n}: Object): React.Element<typeof Modal> => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const onClose = () => {\n    onHide();\n    dispatch(stopSelectingCell());\n  };\n\n  return (\n    <Modal\n      id={OVERLAY_ID}\n      className={clsx(classes.root, className)}\n      onClose={onClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n      open={visible}\n      variant=\"temporary\"\n      anchor=\"left\"\n      {...restProps}\n    >\n      <Fade in={visible}>\n        <div>{children}</div>\n      </Fade>\n    </Modal>\n  );\n};\n","// @flow\nimport React, { useState } from 'react';\nimport type { Element } from 'react';\nimport { AppointmentForm as SchedulerAppointmentForm } from '@devexpress/dx-react-scheduler-material-ui';\nimport BasicLayout from './BasicLayout';\nimport { Layout } from './Layout';\nimport { CommandLayout } from './CommandLayout';\nimport { connectProps } from '@devexpress/dx-react-core';\nimport { useDispatch } from 'react-redux';\nimport { stopSelectingCell } from '../redux/Actions';\nimport { Overlay } from './Overlay';\n\nexport const AppointmentForm = (): Element<typeof SchedulerAppointmentForm> => {\n  const [isSaving, setIsSaving] = useState(false);\n  const dispatch = useDispatch();\n  const onSave = () => {\n    setIsSaving(true);\n    dispatch(stopSelectingCell());\n  };\n\n  const BasicLayoutComponent = connectProps(BasicLayout, () => ({\n    onSave,\n  }));\n\n  const CommandLayoutComponent = connectProps(CommandLayout, () => ({\n    isSaving,\n    setIsSaving,\n  }));\n\n  return (\n    <SchedulerAppointmentForm\n      layoutComponent={Layout}\n      basicLayoutComponent={BasicLayoutComponent}\n      commandLayoutComponent={CommandLayoutComponent}\n      overlayComponent={Overlay}\n    />\n  );\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { useTheme } from '@material-ui/styles';\n\nexport const AppointmentContainer = ({ style, children, ...restProps }) => {\n  const theme = useTheme();\n  return (\n    <div style={{ ...style, zIndex: theme.zIndex.appBar }} {...restProps}>\n      {children}\n    </div>\n  );\n};\n\nAppointmentContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n  style: PropTypes.object.isRequired,\n};\n","// @flow\nimport React, { useState, memo } from 'react';\nimport { Box, InputAdornment, TextField } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport _get from 'lodash.get';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setClientTimeZone } from './redux/Actions';\nimport type { AbstractComponent } from 'react';\n\nconst Timezones = () => {\n  const timeZones: Array<string> = moment.tz.names();\n  const [inputValue, setInputValue] = useState('');\n  const dispatch = useDispatch();\n  const clientTimeZone = useSelector(state =>\n    _get(state, ['calendar', 'clientTimeZone']),\n  );\n\n  return (\n    <Box sx={{ p: 2 }} alignItems=\"center\" display=\"flex\">\n      <Box sx={{ width: { xs: '100%', lg: '30%' } }}>\n        <Autocomplete\n          options={timeZones}\n          value={clientTimeZone}\n          onChange={(event: any, newValue: string | null) => {\n            if (newValue) {\n              dispatch(setClientTimeZone(newValue));\n            }\n          }}\n          getOptionLabel={option => option}\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            setInputValue(newInputValue);\n          }}\n          renderInput={params => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              InputProps={{\n                ...params.InputProps,\n                startAdornment: (\n                  <>\n                    <InputAdornment position=\"start\">\n                      <LanguageIcon />\n                    </InputAdornment>\n                    {params.InputProps.startAdornment}\n                  </>\n                ),\n              }}\n            />\n          )}\n        />\n      </Box>\n    </Box>\n  );\n};\n\ntype Props = {};\n\nexport default (memo(Timezones): AbstractComponent<Props>);\n","// @flow\nimport React, { Fragment } from 'react';\nimport type { Element, AbstractComponent } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { ViewState, EditingState } from '@devexpress/dx-react-scheduler';\nimport {\n  Scheduler,\n  WeekView,\n  Appointments,\n  AppointmentTooltip,\n  Toolbar,\n  DateNavigator,\n  TodayButton,\n} from '@devexpress/dx-react-scheduler-material-ui';\nimport _get from 'lodash/get';\nimport DayScaleCell from './DayScaleCell';\nimport TimeTableCell from './TimeTableCell';\nimport Appointment from './Appointment';\nimport TooltipContent from './TooltipContent';\nimport { DEFAULT_DURATION } from './helpers';\nimport { connect } from 'react-redux';\nimport { withErrorBoundary } from 'components/ErrorBoundary';\nimport { createStructuredSelector } from 'reselect';\nimport _isEmpty from 'lodash/isEmpty';\nimport IntegratedDates from './IntegratedDates';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Loader } from 'react-loaders';\nimport BlockUi from 'react-block-ui';\nimport useConfig from './hooks/useConfig';\nimport useAppointments from './hooks/useAppointments';\nimport useError from './hooks/useError';\nimport { AppointmentForm } from './AppointmentForm';\nimport { AppointmentContainer } from './AppointmentContainer';\nimport Timezone from './Timezone';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    minHeight: '100px',\n    fontFamily: theme.typography.fontFamily.avenirLT,\n  },\n  loading: {\n    border: '1px solid #E0E0E0',\n    backgroundColor: theme.palette.common.white,\n  },\n}));\n\ntype Props = {\n  config: Object,\n  profileId: string,\n  isLoading: boolean,\n  appointments: Object[],\n};\n\nconst Calendar = ({\n  config,\n  profileId,\n  isLoading,\n  appointments,\n}: Props): Element<'div' | typeof Fragment> => {\n  const classes = useStyles();\n\n  useConfig({ profileId });\n  useAppointments({ profileId });\n  useError();\n\n  const onCommitChanges = () => {};\n\n  if (_isEmpty(config) && !isLoading) return <></>;\n\n  return (\n    <BlockUi\n      tag=\"div\"\n      blocking={isLoading}\n      loader={<Loader active type=\"ball-pulse\" color=\"rgba(231,28,99,1)\" />}\n      className={clsx(classes.container, {\n        [classes.loading]: isLoading,\n      })}\n    >\n      <Paper elevation={3}>\n        <Timezone />\n        <Scheduler data={appointments}>\n          <ViewState />\n          <WeekView\n            timeTableCellComponent={TimeTableCell}\n            dayScaleCellComponent={DayScaleCell}\n            cellDuration={\n              _get(config, 'times.slotLengthMinutes') || DEFAULT_DURATION\n            }\n          />\n          <EditingState onCommitChanges={onCommitChanges} />\n          <IntegratedDates />\n          <Toolbar />\n          <DateNavigator />\n          <TodayButton />\n          <Appointments\n            appointmentComponent={Appointment}\n            containerComponent={AppointmentContainer}\n          />\n          <AppointmentTooltip\n            showCloseButton\n            contentComponent={TooltipContent}\n          />\n          <AppointmentForm />\n        </Scheduler>\n      </Paper>\n    </BlockUi>\n  );\n};\n\ntype PropsWithoutRedux = {};\n\nconst structuredSelector = createStructuredSelector({\n  config: state => _get(state, ['calendar', 'config']),\n  isLoading: state => _get(state, ['calendar', 'isLoading']),\n  appointments: state => _get(state, ['calendar', 'appointments']),\n});\n\nexport default (connect(\n  structuredSelector,\n  undefined,\n)(withErrorBoundary(Calendar)): AbstractComponent<PropsWithoutRedux>);\n"],"sourceRoot":""}