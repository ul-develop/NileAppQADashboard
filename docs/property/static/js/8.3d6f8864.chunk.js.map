{"version":3,"sources":["../node_modules/@material-ui/icons/esm/CheckCircleOutline.js","../node_modules/@material-ui/icons/esm/RadioButtonUnchecked.js","../node_modules/@material-ui/icons/esm/ArrowForwardIos.js","components/SellerProperty/QuestionList/QuestionItem.js","components/SellerProperty/QuestionList/helpers.js","components/SellerProperty/QuestionList/QuestionListWidget.js","components/SellerProperty/QuestionList/QuestionList.js"],"names":["d","useStyles","makeStyles","theme","link","fontFamily","typography","avenirLT","border","backgroundColor","palette","background","lightGray","padding","spacing","marginBottom","display","alignItems","name","h5","marginLeft","color","text","dark","flex","marginTop","linkHighlight","fontWeight","disabledLink","pointerEvents","opacity","selectIcon","float","width","height","primary","main","checkIcon","disabledIcon","gray","loopIcon","QuestionItem","props","propertyId","form","formId","FormId","Name","isSubmitted","DataStatus","FORM_STATUS","submitted","classes","propertyFormLink","generatePath","APP_PATHS","propertyForm","data-testid","className","to","CheckCircleOutline","RadioButtonUnchecked","clsx","ArrowForwardIos","isListDetailsForm","_get","FORM_TYPE_IDS","listingDetails","mapForms","forms","listDetailsForm","find","isListDetailsFormSubmitted","map","isEnabled","shortForm","sort","formA","formB","widget","description","QuestionListWidget","property","propertyData","PropertyData","PropertyId","preparedForms","sortedForms","prepareForms","Widget","title","ConvertDTPropertyAddress","key","hideIfInvalidProps","_isEmpty","container","minHeight","loading","common","white","notFound","QuestionList","useQuery","GET_PROPERTIES_AND_FORMS","data","error","properties","orderedProperties","itemA","itemB","moment","CreatedAt","useEffect","message","toastr","tag","blocking","loader","active","type","process","Grid","Typography","variant","Forms"],"mappings":"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","file":"static/js/8.3d6f8864.chunk.js","sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'CheckCircleOutline');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonUnchecked');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');","// @flow\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { FORM_STATUS } from 'components/FormBuilder/Constants';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  CheckCircleOutline,\n  RadioButtonUnchecked,\n  ArrowForwardIos,\n} from '@material-ui/icons';\nimport { Link, generatePath } from 'react-router-dom';\nimport { APP_PATHS } from 'shared/Consts';\n\ntype Props = {\n  propertyId: String,\n  form: Object,\n};\n\nconst useStyles = makeStyles(theme => ({\n  link: {\n    fontFamily: theme.typography.fontFamily.avenirLT,\n    border: '1px solid #E0E0E0',\n    backgroundColor: theme.palette.background.lightGray,\n    padding: theme.spacing(2.125),\n    marginBottom: theme.spacing(1),\n    display: 'flex',\n    alignItems: 'center',\n  },\n  name: {\n    ...theme.typography.h5,\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.dark,\n    flex: 1,\n    marginTop: '2px',\n  },\n  linkHighlight: {\n    fontWeight: '900',\n  },\n  disabledLink: {\n    pointerEvents: 'none',\n    opacity: 0.5,\n  },\n  selectIcon: {\n    float: 'right',\n    width: '14px',\n    height: '14px',\n    color: theme.palette.primary.main,\n  },\n  checkIcon: {\n    color: theme.palette.primary.main,\n  },\n  disabledIcon: {\n    color: theme.palette.primary.gray,\n  },\n  loopIcon: {\n    color: theme.palette.primary.gray,\n  },\n}));\n\nexport const QuestionItem = (props: Props): React.Element<'div'> => {\n  const { propertyId, form } = props;\n  const { FormId: formId, Name: name, DataStatus: formStatus } = form;\n  const isSubmitted = formStatus === FORM_STATUS.submitted;\n  const classes = useStyles();\n  const propertyFormLink = generatePath(APP_PATHS.propertyForm, {\n    propertyId,\n    formId,\n  });\n  return (\n    <div data-testid=\"question-item\">\n      <Link className={classes.link} to={propertyFormLink}>\n        {isSubmitted ? (\n          <CheckCircleOutline className={classes.checkIcon} />\n        ) : (\n          <RadioButtonUnchecked className={classes.loopIcon} />\n        )}\n        <span\n          className={clsx(classes.name, {\n            [classes.linkHighlight]: isSubmitted,\n          })}\n        >\n          {name}\n        </span>\n        <ArrowForwardIos className={classes.selectIcon} />\n      </Link>\n    </div>\n  );\n};\n","import _get from 'lodash/get';\nimport { FORM_STATUS, FORM_TYPE_IDS } from 'shared/Consts';\n\nconst isListDetailsForm = (form = {}) =>\n  _get(form, ['FormTypeId']) === FORM_TYPE_IDS.listingDetails;\n\nconst mapForms = (forms = []) => {\n  const listDetailsForm = forms.find(form => isListDetailsForm(form));\n\n  if (!listDetailsForm) return forms;\n\n  const isListDetailsFormSubmitted =\n    _get(listDetailsForm, ['DataStatus']) === FORM_STATUS.submitted;\n  return forms.map(form => ({\n    ...form,\n    isEnabled: isListDetailsForm(form) || isListDetailsFormSubmitted,\n  }));\n};\n\nconst shortForm = (forms = []) =>\n  [...forms].sort(\n    (formA, formB) => _get(formA, ['Order'], 0) - _get(formB, ['Order'], 0),\n  );\n\nconst prepareForms = (forms = []) => {\n  const sortedForms = shortForm(forms);\n  return mapForms(sortedForms);\n};\n\nexport { mapForms, prepareForms };\n","// @flow\nimport React from 'react';\nimport type { AbstractComponent, Element } from 'react';\nimport _get from 'lodash/get';\nimport _isEmpty from 'lodash/isEmpty';\nimport { hideIfInvalidProps } from 'utils/RenderComponent';\nimport { QuestionItem } from './QuestionItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Widget } from 'components/Widget';\nimport { ConvertDTPropertyAddress } from 'shared/Consts';\nimport { prepareForms } from './helpers';\n\ntype Props = {\n  forms: Object,\n  property: Object,\n};\n\nconst useStyles = makeStyles(theme => ({\n  widget: {\n    marginBottom: theme.spacing(3),\n  },\n  description: {\n    ...theme.typography.h5,\n    marginBottom: theme.spacing(3),\n    color: theme.palette.primary.gray,\n  },\n}));\n\nconst checkValidProps = ({ forms, property }) =>\n  !_isEmpty(forms) && !_isEmpty(property);\n\nexport const QuestionListWidget = ({\n  property,\n  forms,\n}: Props): Element<typeof Widget> => {\n  const { PropertyData: propertyData, PropertyId: propertyId } = property;\n  const classes = useStyles();\n  const preparedForms = prepareForms(forms);\n\n  return (\n    <Widget title=\"Question List\" className={classes.widget}>\n      <div className={classes.description}>\n        To publish your properties (\n        <strong>{ConvertDTPropertyAddress(propertyData)}</strong>) to our\n        system, you need to complete the list of questions below:\n      </div>\n      {preparedForms.map(form => (\n        <QuestionItem\n          form={form}\n          propertyId={propertyId}\n          key={_get(form, ['FormId'])}\n        />\n      ))}\n    </Widget>\n  );\n};\n\nexport default (hideIfInvalidProps(checkValidProps)(\n  QuestionListWidget,\n): AbstractComponent<{}>);\n","// @flow\nimport clsx from 'clsx';\nimport React, { useEffect } from 'react';\nimport type { Element, AbstractComponent } from 'react';\nimport { toastr } from 'react-redux-toastr';\nimport _isEmpty from 'lodash/isEmpty';\nimport moment from 'moment';\nimport { QuestionListWidget } from './QuestionListWidget';\nimport BlockUi from 'react-block-ui';\nimport { Loader } from 'react-loaders';\nimport { Grid, makeStyles, Typography } from '@material-ui/core';\nimport { useQuery } from '@apollo/client';\nimport { GET_PROPERTIES_AND_FORMS } from 'graphql/queries/user/overview';\nimport _get from 'lodash.get';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    minHeight: '100px',\n  },\n  loading: {\n    border: '1px solid #E0E0E0',\n    backgroundColor: theme.palette.common.white,\n  },\n  notFound: {\n    padding: '1rem',\n  },\n}));\n\nexport const QuestionList = (): Element<'div' | 'p'> => {\n  const classes = useStyles();\n  const { data, loading, error } = useQuery(GET_PROPERTIES_AND_FORMS);\n  const properties =\n    _get(data, ['getUserOverview', 'Properties', 'Items']) || [];\n\n  const orderedProperties = [...properties].sort((itemA, itemB) => {\n    return moment(itemA.CreatedAt) - moment(itemB.CreatedAt);\n  });\n\n  useEffect(() => {\n    if (error) {\n      const message = _get(error, 'message') || 'Something went wrong';\n      toastr.error(message);\n    }\n  }, [error]);\n\n  return (\n    <BlockUi\n      tag=\"div\"\n      blocking={loading}\n      loader={<Loader active type=\"ball-pulse\" color=\"rgba(231,28,99,1)\" />}\n      className={clsx(classes.container, { [classes.loading]: loading })}\n    >\n      {process.env.REACT_APP_SELL_SIDE_ENABLED !== '1' && (\n        <Grid container className={classes.notFound}>\n          <Typography variant=\"h3\">Coming Soon</Typography>\n        </Grid>\n      )}\n      {_isEmpty(properties) && !loading && (\n        <Grid container className={classes.notFound}>\n          <Typography variant=\"h3\">No property found</Typography>\n        </Grid>\n      )}\n      {orderedProperties.map(property => {\n        const { Forms: forms, PropertyId: propertyId } = property;\n        return (\n          <QuestionListWidget\n            property={property}\n            forms={forms}\n            key={propertyId}\n          />\n        );\n      })}\n    </BlockUi>\n  );\n};\n\nexport default (QuestionList: AbstractComponent<Props>);\n"],"sourceRoot":""}